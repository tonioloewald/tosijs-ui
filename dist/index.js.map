{"mappings":"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","sources":["src/index.ts","src/bodymovin-player.ts","src/via-tag.ts","src/code-editor.ts","src/data-table.ts","src/track-drag.ts","src/filter-builder.ts","src/live-example.ts","src/tab-selector.ts","src/mapbox.ts","src/markdown-viewer.ts","src/rich-text.ts","src/side-nav.ts","src/size-break.ts","src/make-sorter.ts"],"sourcesContent":["export * from './bodymovin-player'\nexport * from './code-editor'\nexport * from './data-table'\nexport * from './filter-builder'\nexport * from './live-example'\nexport * from './mapbox'\nexport * from './markdown-viewer'\nexport * from './rich-text'\nexport * from './side-nav'\nexport * from './size-break'\nexport * from './tab-selector'\nexport { trackDrag } from './track-drag'\nexport { scriptTag, styleSheet } from './via-tag'\nexport { makeSorter } from './make-sorter'\n","// https://lottiefiles.github.io/lottie-docs/advanced_interactions/\n\nimport { Component as WebComponent, ElementCreator } from 'xinjs'\nimport { scriptTag } from './via-tag'\n\nexport interface LottieConfig {\n  container?: HTMLElement | ShadowRoot\n  renderer: 'svg' | 'cancas' | 'html'\n  loop: boolean\n  autoplay: boolean\n  animationData?: string\n  path?: string\n  [key: string]: any\n}\n\n/*!\n# `<bodymovin-player>`\n\nA wrapper for AirBnb's bodymovin, a.k.a. [lottie](https://airbnb.io/lottie/#/web), player. It's designed\nto work like an `<img>` element (just set its `src` attribute).\n\n```html\n<bodymovin-player \n  style=\"height: 160px; width: 160px\" \n  src=\"https://raw.githubusercontent.com/tonioloewald/xinjs-ui/main/demo/88140-rocket-livetrade.json\"\n></bodymovin-player>\n<div>\n  Animation by <a target=\"_blank\" href=\"https://lottiefiles.com/dvskjbicfc\">chiến lê hồng</a>\n</div>\n```\n```css\n.preview {\n  padding: var(--spacing);\n  text-align: center;\n}\n```\n\nYou can also directly set its `json` property to the content of a `lottie.json` file.\n\nAnd of course just access the element's `animation` property to [use the bodymovin API](https://airbnb.io/lottie/#/web).\n*/\n\nexport class BodymovinPlayer extends WebComponent {\n  content = null\n  src = ''\n  json = ''\n  config: LottieConfig = {\n    renderer: 'svg',\n    loop: true,\n    autoplay: true,\n  }\n\n  static bodymovinAvailable?: Promise<any>\n\n  animation: any\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      width: 400,\n      height: 400,\n      display: 'inline-block',\n    },\n  })\n\n  private _loading = false\n\n  get loading(): boolean {\n    return this._loading\n  }\n\n  constructor() {\n    super()\n    this.initAttributes('src', 'json')\n    if (BodymovinPlayer.bodymovinAvailable === undefined) {\n      BodymovinPlayer.bodymovinAvailable = scriptTag(\n        'https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js',\n        'bodymovin'\n      )\n    }\n  }\n\n  private readonly doneLoading = (): void => {\n    this._loading = false\n  }\n\n  private readonly load = ({ bodymovin }: { bodymovin: any }): void => {\n    this._loading = true\n\n    this.config.container =\n      this.shadowRoot !== null ? this.shadowRoot : undefined\n    if (this.json !== '') {\n      this.config.animationData = this.json\n      delete this.config.path\n    } else if (this.src !== '') {\n      delete this.config.animationData\n      this.config.path = this.src\n    } else {\n      console.log(\n        '%c<bodymovin-player>%c expected either %cjson%c (animation data) or %csrc% c(url) but found neither.',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default'\n      )\n    }\n\n    if (this.animation) {\n      this.animation.destroy()\n      const root = this.shadowRoot\n      if (root !== null) {\n        root.querySelector('svg')?.remove()\n      }\n    }\n    this.animation = bodymovin.loadAnimation(this.config)\n    this.animation.addEventListener('DOMLoaded', this.doneLoading)\n  }\n\n  render(): void {\n    super.render()\n\n    BodymovinPlayer.bodymovinAvailable!.then(this.load).catch(\n      (e: string): void => {\n        console.error(e)\n      }\n    )\n  }\n}\n\nexport const bodymovinPlayer = BodymovinPlayer.elementCreator({\n  tag: 'bodymovin-player',\n}) as ElementCreator<BodymovinPlayer>\n","/*!\n# scriptTag & styleSheet\n\n## scriptTag\n\nIf you need to load an old school (cjs) javascript library via cdn (both mapboxgl and bodymovin are\nfine examples) then use these two functions. They return promises that resolve `globalThis` when the\nmodule in question has loaded and otherwise behave as much like aync `import()` as possible.\n\nUsing `scriptTag`:\n\n```html\n<canvas></canvas>\n```\n```css\ncanvas {\n  width: 100%;\n  height: 100%;\n}\n```\n```js\nconst { scriptTag } = xinjsui\n\n// Note that the current version of Chart.js is an ES6 module so you could just use `import()` instead\nconst { Chart } = await scriptTag('https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js')\nconst data = {\n  labels: ['first', 'second', 'third'],\n  datasets: [\n    {\n      label: 'amazingness',\n      backgroundColor: '#fff4',\n      borderColor: '#f008',\n      borderWidth: 2,\n      data: [21, 27, 57]\n    }\n  ]\n}\nconst options = {\n  scales: {\n    yAxes:[{\n      stacked:true,\n      gridLines: {\n        display:true,\n        color: '#00f2'\n      }\n    }],\n    xAxes:[{\n      gridLines: {\n        display:false\n      }\n    }]\n  }\n}\n\nChart.Bar(preview.querySelector('canvas'), {data, options})\n```\n\nNote that `scriptTag` will resolve `globalThis` so it behaves as much like async `import()`\nas possible.\n\nAs an aside:\n\n`<bodymovin-player>` is implemented in such a way that if you've preloaded the module\n(e.g. via a script tag or packaging) it won't load it again, which affords offline\nuse.\n\nThere's no point for `<map-box>` since it won't work without connectivity anyway.\n\n## styleSheet\n\nstyleSheet creates a `<link>` tag for a specified css file.\n\nUsing `styleSheet`:\n\n    styleSheet('../path/to/style.css')\n\nThis is awaitable, if you care. The stylesheet `<link>` will only be inserted _once_.\n*/\n\nimport { elements } from 'xinjs'\n\ninterface PromiseMap {\n  [key: string]: Promise<any>\n}\n\nconst loadedScripts: PromiseMap = {}\nexport function scriptTag(\n  src: string,\n  existingSymbolName?: string\n): Promise<any> {\n  if (loadedScripts[src] === undefined) {\n    if (existingSymbolName !== undefined) {\n      // @ts-expect-error eslint is just wrong\n      const existing = globalThis[existingSymbolName]\n      loadedScripts[src] = Promise.resolve({ [existingSymbolName]: existing })\n    }\n\n    const scriptElt = elements.script({ src })\n\n    document.head.append(scriptElt)\n\n    loadedScripts[src] = new Promise((resolve) => {\n      scriptElt.onload = () => resolve(globalThis)\n    })\n  }\n\n  return loadedScripts[src]\n}\n\nconst loadedStyleSheets: PromiseMap = {}\nexport function styleSheet(href: string): Promise<void> {\n  if (loadedStyleSheets[href] === undefined) {\n    const linkElement = elements.link({\n      rel: 'stylesheet',\n      type: 'text/css',\n      href,\n    })\n\n    document.head.append(linkElement)\n\n    loadedStyleSheets[href] = new Promise((resolve) => {\n      linkElement.onload = resolve\n    })\n  }\n  return loadedStyleSheets[href]\n}\n","/*!\n# `<code-editor>`\n\nSometimes, it's nice to be able to just toss a code-editor in a web-page. It's a thin wrapper around the [ACE Editor](https://ace.c9.io/). \n\n`<code-editor>`'s `value` is the code it contains. Its `mode` attribute sets the language, and you can further configure\nthe ACE editor instance via its `options` property.\n\n```html\n<code-editor style=\"width: 100%; height: 190px\" mode=\"css\">\nbody {\n  box-sizing: border-box;\n}\n</code-editor>\n```\n*/\n\nimport { Component as WebComponent, ElementCreator } from 'xinjs'\nimport { scriptTag } from './via-tag'\n\nconst ACE_BASE_URL = 'https://cdnjs.cloudflare.com/ajax/libs/ace/1.23.2/'\nconst DEFAULT_THEME = 'ace/theme/tomorrow'\n\nconst makeCodeEditor = async (\n  codeElement: any,\n  mode = 'html',\n  options = {},\n  theme = DEFAULT_THEME\n) => {\n  const { ace } = await scriptTag(`${ACE_BASE_URL}ace.min.js`)\n  ace.config.set('basePath', ACE_BASE_URL)\n  const editor = ace.edit(codeElement, {\n    mode: `ace/mode/${mode}`,\n    tabSize: 2,\n    useSoftTabs: true,\n    useWorker: false,\n    ...options,\n  })\n  editor.setTheme(theme)\n  return editor\n}\n\nexport class CodeEditor extends WebComponent {\n  private source = ''\n\n  get value(): string {\n    return this.editor === undefined ? this.source : this.editor.getValue()\n  }\n\n  set value(text: string) {\n    if (this.editor === undefined) {\n      this.source = text\n    } else {\n      this.editor.setValue(text)\n    }\n  }\n\n  mode = 'javascript'\n  disabled = false\n  role = 'code editor'\n\n  get editor(): any {\n    return this._editor\n  }\n  private _editor: any | undefined\n  private _editorPromise: Promise<any> | undefined\n  options: any = {}\n  theme = DEFAULT_THEME\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'block',\n      position: 'relative',\n    },\n  })\n\n  constructor() {\n    super()\n\n    this.initAttributes('mode', 'theme', 'disabled')\n  }\n\n  onResize() {\n    if (this.editor !== undefined) {\n      this.editor.resize(true)\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback()\n\n    if (this.source === '') {\n      this.value = this.innerText.trim()\n    }\n\n    if (this._editorPromise === undefined) {\n      this._editorPromise = makeCodeEditor(\n        this,\n        this.mode,\n        this.options,\n        this.theme\n      )\n      this._editorPromise.then((editor) => {\n        this._editor = editor\n        editor.setValue(this.source, 1)\n      })\n    }\n\n    this.addEventListener('change', this.updateValue)\n  }\n\n  render(): void {\n    super.render()\n\n    if (this._editorPromise !== undefined) {\n      this._editorPromise.then((editor) => editor.setReadOnly(this.disabled))\n    }\n  }\n}\n\nexport const codeEditor = CodeEditor.elementCreator({\n  tag: 'code-editor',\n}) as ElementCreator<CodeEditor>\n","/*!\n# `<data-table>`\n\nA virtual data-table, configurable via a `columns` array (which will automatically be generated if not provided),\nthat displays gigantic tables with fixed headers (and live column-resizing) using a minimum of resources and cpu.\n\n```js\nconst { dataTable } = xinjsui\nconst { input } = xinjs.elements\n\nconst emojiRequest = await fetch('https://raw.githubusercontent.com/tonioloewald/emoji-metadata/master/emoji-metadata.json')\nconst emojiData = await emojiRequest.json()\n\nconst columns = [\n  {\n    name: \"emoji\",\n    prop: \"chars\",\n    align: \"center\",\n    width: 80\n  },\n  {\n    prop: \"name\",\n    width: 300,\n    // custom cell using xinjs bindings to make the field editable\n    dataCell() {\n      return input({\n        class: 'td',\n        bindValue: '^.name',\n        title: 'name',\n      })\n    },\n  },\n  {\n    prop: \"category\",\n    width: 150\n  },\n  {\n    prop: \"subcategory\",\n    width: 150\n  },\n]\n\npreview.append(dataTable({ array: emojiData, columns }))\n```\n```css\n.preview input.td {\n  margin: 0;\n  border-radius: 0;\n  box-shadow: none !important;\n  background: transparent;\n}\n\n.preview data-table {\n  height: 100%;\n}\n```\n\nYou can set the `<data-table>`'s `array`, `columns`, and `filter` properties directly, or set its `value` to:\n\n```\n{ \n  array: any[], \n  columns: ColumnOptions[] | null, \n  filter?: ArrayFilter \n}\n```\n\nIf you set the `<data-table>`'s `rowHeight` to `0` it will render all its elements (i.e. not be virtual). This is\nuseful for smaller tables, or tables with variable row-heights.\n*/\n\nimport {\n  Component as WebComponent,\n  ElementCreator,\n  elements,\n  xin,\n  vars,\n  xinValue,\n} from 'xinjs'\nimport { trackDrag } from './track-drag'\n\nfunction defaultWidth(\n  array: any[],\n  prop: string,\n  charWidth: number\n): number | boolean {\n  const example = array.find(\n    (item) => item[prop] !== undefined && item[prop] !== null\n  )\n  if (example !== undefined) {\n    const value = example[prop]\n    switch (typeof value) {\n      case 'string':\n        if (value.match(/^\\d+(\\.\\d+)?$/)) {\n          return 6 * charWidth\n        } else if (value.includes(' ')) {\n          return 20 * charWidth\n        } else {\n          return 12 * charWidth\n        }\n      case 'number':\n        return 6 * charWidth\n      case 'boolean':\n        return 5 * charWidth\n      case 'object':\n        return false\n      default:\n        return 8 * charWidth\n    }\n  }\n  return false\n}\n\nconst { div, span, template } = elements\n\nexport interface ColumnOptions {\n  name?: string\n  prop: string\n  width: number\n  visible?: boolean\n  align?: string\n  headerCell?: (options: ColumnOptions) => HTMLElement\n  dataCell?: (options: ColumnOptions) => HTMLElement\n}\n\nexport interface TableData {\n  columns?: ColumnOptions[] | null\n  array: any[]\n  filter?: ArrayFilter | null\n}\n\nexport type ArrayFilter = (array: any[]) => any[]\n\nconst passThru = (array: any[]) => array\n\nexport class DataTable extends WebComponent {\n  maxVisibleRows = 10000\n\n  get value(): TableData {\n    return {\n      array: this.array,\n      filter: this.filter,\n      columns: this.columns,\n    }\n  }\n\n  set value(data: TableData) {\n    const { array, columns, filter } = xinValue(data)\n    if (\n      this._array !== array ||\n      this._columns !== columns ||\n      this._filter !== filter\n    ) {\n      this.queueRender()\n    }\n    this._array = array || []\n    this._columns = columns || null\n    this._filter = filter || passThru\n  }\n\n  private _array: any[] = []\n  private _columns: ColumnOptions[] | null = null\n  private _filter: ArrayFilter = passThru\n  charWidth = 15\n  rowHeight = 30\n  minColumnWidth = 30\n\n  get virtual(): { height: number } | undefined {\n    return this.rowHeight > 0 ? { height: this.rowHeight } : undefined\n  }\n\n  constructor() {\n    super()\n\n    this.initAttributes('rowHeight', 'charWidth', 'minColumnWidth')\n  }\n\n  get array(): any[] {\n    return this._array\n  }\n\n  set array(newArray: any[]) {\n    this._array = xinValue(newArray)\n    this.queueRender()\n  }\n\n  get filter(): ArrayFilter {\n    return this._filter\n  }\n\n  set filter(filterFunc: ArrayFilter) {\n    if (this._filter !== filterFunc) {\n      this._filter = filterFunc\n      this.queueRender()\n    }\n  }\n\n  get columns(): ColumnOptions[] {\n    if (!Array.isArray(this._columns)) {\n      const { _array } = this\n      this._columns = Object.keys(_array[0] || {}).map((prop: string) => {\n        const width = defaultWidth(_array, prop, this.charWidth)\n        return {\n          name: prop.replace(/([a-z])([A-Z])/g, '$1 $2').toLocaleLowerCase(),\n          prop,\n          align:\n            typeof _array[0][prop] === 'number' ||\n            (_array[0][prop] !== '' && !isNaN(_array[0][prop]))\n              ? 'right'\n              : 'left',\n          visible: width !== false,\n          width: width ? width : 0,\n        } as ColumnOptions\n      })\n    }\n    return this._columns\n  }\n\n  set columns(newColumns: ColumnOptions[]) {\n    this._columns = newColumns\n    this.queueRender()\n  }\n\n  get visibleColumns(): ColumnOptions[] {\n    return this.columns.filter((c) => c.visible !== false)\n  }\n\n  get visibleRecords(): any[] {\n    return xin[this.instanceId] as any[]\n  }\n\n  content = null\n\n  getColumn(event: any): ColumnOptions | undefined {\n    const x =\n      (event.touches !== undefined ? event.touches[0].clientX : event.clientX) -\n      this.getBoundingClientRect().x\n    const epsilon = event.touches !== undefined ? 20 : 5\n    let boundaryX = 0\n    const log: any[] = []\n    const column = this.visibleColumns.find((options: ColumnOptions) => {\n      if (options.visible !== false) {\n        boundaryX += options.width\n        log.push(boundaryX)\n        return Math.abs(x - boundaryX) < epsilon\n      }\n    })\n    return column\n  }\n\n  setCursor = (event: Event) => {\n    const column = this.getColumn(event)\n    if (column !== undefined) {\n      this.style.cursor = 'col-resize'\n    } else {\n      this.style.cursor = ''\n    }\n  }\n\n  resizeColumn = (event: any) => {\n    const column = this.getColumn(event)\n    if (column !== undefined) {\n      const origWidth = column.width\n      const isTouchEvent = event.touches !== undefined\n      const touchIdentifier = isTouchEvent\n        ? event.touches[0].identifier\n        : undefined\n      trackDrag(\n        event,\n        (dx, _dy, event: any) => {\n          const touch = isTouchEvent\n            ? [...event.touches].find(\n                (touch: any) => touch.identifier === touchIdentifier\n              )\n            : true\n          if (touch === undefined) {\n            return true\n          }\n          const width = origWidth + dx\n          column.width =\n            width > this.minColumnWidth ? width : this.minColumnWidth\n          this.setColumnWidths()\n          if (event.type === 'mouseup') {\n            return true\n          }\n        },\n        'col-resize'\n      )\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    this.addEventListener('mousemove', this.setCursor)\n    this.addEventListener('mousedown', this.resizeColumn)\n    this.addEventListener('touchstart', this.resizeColumn, { passive: true })\n  }\n\n  setColumnWidths() {\n    this.style.setProperty(\n      '--grid-columns',\n      this.visibleColumns.map((c) => c.width + 'px').join(' ')\n    )\n  }\n\n  get rowStyle() {\n    return {\n      display: 'grid',\n      gridTemplateColumns: vars.gridColumns,\n      height: this.rowHeight + 'px',\n      lineHeight: this.rowHeight + 'px',\n    }\n  }\n\n  get cellStyle() {\n    return {\n      overflow: 'hidden',\n      whiteSpace: 'nowrap',\n      textOverflow: 'ellipsis',\n    }\n  }\n\n  headerCell = (options: ColumnOptions) =>\n    options.headerCell !== undefined\n      ? options.headerCell(options)\n      : span(\n          {\n            class: 'th',\n            role: 'columnheader',\n            ariaSort: 'none',\n            style: {\n              ...this.cellStyle,\n              textAlign: options.align || 'left',\n            },\n          },\n          typeof options.name === 'string' ? options.name : options.prop\n        )\n\n  dataCell = (options: ColumnOptions) => {\n    if (options.dataCell !== undefined) {\n      return options.dataCell(options)\n    }\n    return span({\n      class: 'td',\n      role: 'cell',\n      style: {\n        ...this.cellStyle,\n        textAlign: options.align || 'left',\n      },\n      bindText: `^.${options.prop}`,\n    })\n  }\n\n  get visibleRows(): any[] {\n    return xinValue(xin[this.instanceId]) as any[]\n  }\n\n  render() {\n    super.render()\n\n    const found = this.filter(this._array)\n    xin[this.instanceId] = found.slice(0, this.maxVisibleRows)\n\n    this.textContent = ''\n\n    this.style.display = 'flex'\n    this.style.flexDirection = 'column'\n    const { visibleColumns } = this\n    this.setColumnWidths()\n    this.append(\n      div(\n        { class: 'thead', role: 'rowgroup', style: { touchAction: 'none' } },\n        div(\n          {\n            class: 'tr',\n            role: 'row',\n            style: this.rowStyle,\n          },\n          ...visibleColumns.map(this.headerCell)\n        )\n      ),\n      div(\n        {\n          class: 'tbody',\n          role: 'rowgroup',\n          style: {\n            content: ' ',\n            minHeight: '100px',\n            flex: '1 1 100px',\n            overflow: 'hidden',\n            overflowY: 'scroll',\n          },\n          bindList: {\n            value: this.instanceId,\n            virtual: this.virtual,\n          },\n        },\n        template(\n          div(\n            {\n              class: 'tr',\n              role: 'row',\n              style: this.rowStyle,\n            },\n            ...visibleColumns.map(this.dataCell)\n          )\n        )\n      )\n    )\n  }\n}\n\nexport const dataTable = DataTable.elementCreator({\n  tag: 'data-table',\n}) as ElementCreator<DataTable>\n","import { elements } from 'xinjs'\n\ntype TrackerCallback = (dx: number, dy: number, event: any) => true | undefined\n\n/*!\n# trackDrag\n\nSometimes you want to track a mouse-drag or touch-drag operation without messing around.\nThis is how the resizeable columns in `<data-table>` work.\n\nJust call `trackDrag(event, (dx, dy, event) => { ... })` and you'll get updates on corresponding events until\nyou return `true` from the event-handler (or, in the case of `touch` events, the last `touch` ends).\nFor mouse events, a \"tracker\" element is thrown up in front of everything for the event.\n\n```html\n<p>\n  Try dragging the squares…<br>\n  (You can drag them separately with multi-touch!)\n</p>\n<div class=\"draggable\" style=\"top: 20px; left: 40px; background: #f008\"></div>\n<div class=\"draggable\" style=\"left: 40%; bottom: 30%; background: #0f08\"></div>\n<div class=\"draggable\" style=\"bottom: 30px; right: 10px; background: #00f8\"></div>\n```\n```css\n.preview {\n  touch-action: none;\n}\n\n.draggable {\n  content: ' ';\n  position: absolute;\n  width: 50px;\n  height: 50px;\n  cursor: move;\n}\n\n.preview p {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n}\n```\n```js\nconst { trackDrag } = xinjsui\n\nfunction dragItem(event) {\n  const draggable = event.target\n  if (draggable.classList.contains('draggable')) {\n    const x = draggable.offsetLeft\n    const y = draggable.offsetTop\n    trackDrag(event, (dx, dy, event) => {\n      draggable.style.left = (x + dx) + 'px'\n      draggable.style.top = (y + dy) + 'px'\n      draggable.style.bottom = 'auto'\n      draggable.style.right = 'auto'\n      return event.type === 'mouseup'\n    })\n  }\n}\n\npreview.addEventListener('mousedown', dragItem )\npreview.addEventListener('touchstart', dragItem, { passive: true } )\n```\n\nFor `touch` events, `dx` and `dy` are based on tracking `event.changedTouches[0]` which\nis almost certainly what you want.\n\nTo handle multi-touch gestures you will need to track the touches yourself.\n*/\nexport const trackDrag = (\n  event: PointerEvent,\n  callback: TrackerCallback,\n  cursor = 'move'\n): void => {\n  const isTouchEvent = event.type.startsWith('touch')\n\n  if (!isTouchEvent) {\n    const origX = event.clientX\n    const origY = event.clientY\n\n    const tracker = elements.div({\n      style: {\n        content: ' ',\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        cursor,\n      },\n    })\n\n    document.body.append(tracker)\n\n    const wrappedCallback = (event: any) => {\n      const dx = event.clientX - origX\n      const dy = event.clientY - origY\n      if (callback(dx, dy, event) === true) {\n        tracker.remove()\n      }\n    }\n\n    tracker.addEventListener('mousemove', wrappedCallback, { passive: true })\n    tracker.addEventListener('mouseup', wrappedCallback, { passive: true })\n  } else if (event instanceof TouchEvent) {\n    const touch = event.changedTouches[0]\n    const touchId = touch.identifier\n    const origX = touch.clientX\n    const origY = touch.clientY\n    const target: any = event.target\n\n    let dx = 0\n    let dy = 0\n    const wrappedCallback = (event: any) => {\n      const touch = [...event.touches].find(\n        (touch) => touch.identifier === touchId\n      )\n      if (touch !== undefined) {\n        dx = touch.clientX - origX\n        dy = touch.clientY - origY\n      }\n      if (callback(dx, dy, event) === true || touch === undefined) {\n        target.removeEventListener('touchmove', wrappedCallback)\n        target.removeEventListener('touchend', wrappedCallback)\n        target.removeEventListener('touchcancel', wrappedCallback)\n      }\n    }\n\n    target.addEventListener('touchmove', wrappedCallback, { passive: true })\n    target.addEventListener('touchend', wrappedCallback, { passive: true })\n    target.addEventListener('touchcancel', wrappedCallback, { passive: true })\n  }\n}\n","/*!\n# `<filter-builder>`\n\nAutomatically creates `ArrayFilter` functions `(a: any[]) => any[]` based on the query you build using its\nmacOS Finder-inspired interface, using an easily customizable / extensible collection of `Filter` objects.\n\n```js\nconst { dataTable, filterBuilder, availableFilters } = xinjsui\n\nconst sourceWords = ['acorn', 'bubblegum', 'copper', 'daisy', 'ellipse', 'fabulous', 'gerund', 'hopscotch', 'idiom', 'joke']\nfunction randomWords () {\n  let numWords = Math.random() * 4\n  const words = []\n  while (numWords > 0) {\n    numWords -= 1\n    words.push(sourceWords[Math.floor(Math.random() * 10)])\n  }\n  return words\n}\n\nconst array = []\nfor(let i = 0; i < 1000; i++) {\n  array.push({\n    date: new Date(Math.random() * Date.now()).toISOString().split('T')[0],\n    isLucky: Math.random() < 0.1,\n    number: Math.floor(Math.random() * 200 - 100),\n    string: randomWords().join(' '),\n  })\n}\n\nconst columns = [\n  {\n    prop: 'date',\n    width: 120\n  },\n  {\n    prop: 'isLucky',\n    type: 'boolean',\n    width: 100\n  },\n  {\n    prop: 'number',\n    align: 'right',\n    width: 100\n  },\n  {\n    prop: 'string',\n    width: 300\n  },\n]\n\nconst table = dataTable({ array, columns })\nconst { contains, equals, after, isTrue, isFalse } = availableFilters\nconst filter = filterBuilder({\n  filters: { contains, equals, after, isTrue, isFalse },\n  fields: columns,\n  onChange(event) {\n    console.log(filter.filter, filter.description)\n    table.filter = filter.filter\n  }\n})\npreview.append(filter, table)\n```\n```css\n.preview {\n  display: flex;\n  flex-direction: column;\n}\n\n.preview data-table {\n  flex: 1 1 auto;\n}\n```\n\n## availableFilters\n\n`<filter-builder>` has a default set of `FilterMaker` objects which it uses to construct filter function.\nIn the example above, the default collection of filters is reduced to `contains`, `equals`, `after`, and `isTrue`.\n\nThe full collection includes:\n\n- **contains** * looks for fields containing a string (ignoring case)\n- **equals** * looks for fields containing equivalent values (ignoring case)\n- **after** * looks for fields with a date after a provided value\n- **greaterThan** * looks for fields with a value greater than a provided value\n- **truthy** * looks for fields that are true / non-zero / non-empty\n- **true** looks for fields that are `true`\n- **false** looks for fields that are `false`\n\n**Note**: the filters marked with an * have negative version (e.g. does not contain).\n\n```\ntype ObjectTest (obj: any) => boolean\n\ninterface FilterMaker {\n  caption: string                                 // describes the test condition\n  negative?: string                               // describes the negative test condition\n  needsValue?: boolean                            // if false, the filterMaker doesn't need a needle value\n  filterMaker(needle: any) => ObjectTest          // builds an ObjectTest\n}\n```\n*/\n\nimport { Component as WebComponent, ElementCreator, elements } from 'xinjs'\n\nconst { div, input, select, option, button, span, style } = elements\n\ndocument.head.append(\n  style(\n    { id: 'filter-builder' },\n    `filter-part {\n  display: flex;\n}\n\nfilter-part [part=\"needle\"] {\n  flex: 1 1 auto;\n  width: 80px;\n}\n\nfilter-part [hidden]+[part=\"padding\"] {\n  display: block;\n  content: ' ';\n  flex: 1 1 auto;\n}\n  \nfilter-builder {\n  width: 100%;\n  height: auto;\n  display: flex;\n  align-items: center;\n}\n\nfilter-builder [part=\"filterContainer\"] {\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  flex: 1 1 auto;\n}\n\nfilter-builder [part=\"add\"],\nfilter-builder [part=\"reset\"] {\n  --button-size: var(--touch-size, 32px);\n  border-radius: 999px;\n  height: var(--button-size);\n  line-height: var(--button-size);\n  margin: 0;\n  padding: 0;\n  text-align: center;\n  width: var(--button-size);\n  flex: 0 0 var(--button-size);\n}\n`\n  )\n)\n\ntype ObjectTest = (obj: any) => boolean\ntype ArrayFilter = (array: any[]) => any[]\n\nconst passThru = (array: any[]) => array\nconst NULL_FILTER_DESCRIPTION = 'null filter, everything matches'\n\ninterface FilterMaker {\n  caption: string\n  negative?: string\n  needsValue?: boolean // default true\n  makeTest: (value: any) => ObjectTest\n}\n\nexport const availableFilters: { [key: string]: FilterMaker } = {\n  contains: {\n    caption: 'contains',\n    negative: 'does not contain',\n    makeTest: (value: string) => {\n      value = value.toLocaleLowerCase()\n      return (obj: any) => String(obj).toLocaleLowerCase().includes(value)\n    },\n  },\n  equals: {\n    caption: '=',\n    negative: '≠',\n    makeTest: (value: string) => {\n      if (isNaN(Number(value))) {\n        value = String(value).toLocaleLowerCase()\n        return (obj: any) => String(obj).toLocaleLowerCase() === value\n      }\n      const num = Number(value)\n      return (obj: any) => Number(obj) === num\n    },\n  },\n  after: {\n    caption: 'is after',\n    negative: 'is before',\n    makeTest: (value: any) => {\n      const date = new Date(value)\n      return (obj: any) => new Date(obj) > date\n    },\n  },\n  greaterThan: {\n    caption: '>',\n    negative: '≤',\n    makeTest: (value: any) => {\n      if (!isNaN(Number(value))) {\n        const num = Number(value)\n        return (obj: any) => Number(obj) > num\n      }\n      value = value.toLocaleLowerCase()\n      return (obj: any) => String(obj).toLocaleLowerCase() > value\n    },\n  },\n  truthy: {\n    caption: 'is true / non-empty / no-zero',\n    negative: 'is false / empty / zero',\n    needsValue: false,\n    makeTest: () => (obj: any) => !!obj,\n  },\n  isTrue: {\n    caption: '= true',\n    needsValue: false,\n    makeTest: () => (obj: any) => obj === true,\n  },\n  isFalse: {\n    caption: '= false',\n    needsValue: false,\n    makeTest: () => (obj: any) => obj === false,\n  },\n}\n\ninterface Filter {\n  description: string\n  test: ObjectTest\n}\n\nconst passAnything = {\n  description: 'anything',\n  test: () => true,\n}\n\nfunction getSelectText(select: HTMLSelectElement): string {\n  return select.options[select.selectedIndex].text\n}\n\nexport class FilterPart extends WebComponent {\n  fields = [] as Array<{ name?: string; prop: string }>\n  filters = availableFilters\n\n  content = [\n    select({ part: 'haystack' }),\n    select({ part: 'condition' }),\n    input({ part: 'needle' }),\n    span({ part: 'padding' }),\n    button({ part: 'remove', title: 'delete' }, span({ class: 'icon-trash' })),\n  ]\n\n  filter: Filter = passAnything\n\n  buildFilter = (/* event: Event */) => {\n    const { haystack, condition, needle } = this.parts as {\n      haystack: HTMLSelectElement\n      condition: HTMLSelectElement\n      needle: HTMLInputElement\n    }\n    const [, negative, key] = condition.value.match(/^(~)?(.+)/) as string[]\n    const filter = this.filters[key] as FilterMaker\n    needle.hidden = filter.needsValue === false\n\n    const baseTest =\n      filter.needsValue === false\n        ? filter.makeTest(undefined)\n        : filter.makeTest(needle.value)\n    const field = haystack.value\n    let test\n\n    if (field !== '') {\n      test =\n        negative === '~'\n          ? (obj: any) => !baseTest(obj[field])\n          : (obj: any) => baseTest(obj[field])\n    } else {\n      test =\n        negative === '~'\n          ? (obj: any) =>\n              Object.values(obj).find((v) => !baseTest(v)) !== undefined\n          : (obj: any) =>\n              Object.values(obj).find((v) => baseTest(v)) !== undefined\n    }\n\n    const matchValue = filter.needsValue !== false ? ` \"${needle.value}\"` : ''\n    const description = `${getSelectText(haystack)} ${getSelectText(\n      condition\n    )}${matchValue}`\n    console.log(description)\n\n    this.filter = {\n      description,\n      test,\n    }\n\n    this.parentElement?.dispatchEvent(new Event('change'))\n  }\n\n  connectedCallback() {\n    super.connectedCallback()\n\n    const { haystack, condition, needle, remove } = this.parts as {\n      haystack: HTMLSelectElement\n      condition: HTMLSelectElement\n      needle: HTMLInputElement\n      remove: HTMLButtonElement\n    }\n\n    haystack.addEventListener('change', this.buildFilter)\n    condition.addEventListener('change', this.buildFilter)\n    needle.addEventListener('input', this.buildFilter)\n    haystack.value = ''\n    condition.value = Object.keys(this.filters)[0]\n    needle.value = ''\n\n    remove.addEventListener('click', () => {\n      const { parentElement } = this\n      this.remove()\n      parentElement?.dispatchEvent(new Event('change'))\n    })\n  }\n\n  render() {\n    super.render()\n\n    const { haystack, condition } = this.parts as {\n      haystack: HTMLSelectElement\n      condition: HTMLSelectElement\n    }\n\n    haystack.textContent = ''\n    haystack.append(\n      option('any field', { value: '' }),\n      ...this.fields.map((field) => {\n        const caption = field.name || field.prop\n        return option(`${caption}`, { value: field.prop })\n      })\n    )\n    condition.textContent = ''\n    const conditions = Object.keys(this.filters)\n      .map((key) => {\n        const filter = this.filters[key]\n        return filter.negative !== undefined\n          ? [\n              option(filter.caption, { value: key }),\n              option(filter.negative, { value: '~' + key }),\n            ]\n          : option(filter.caption, { value: key })\n      })\n      .flat()\n    condition.append(...conditions)\n  }\n}\n\nexport const filterPart = FilterPart.elementCreator({ tag: 'filter-part' })\n\nexport class FilterBuilder extends WebComponent {\n  fields = [] as Array<{ name?: string; prop: string }>\n  filter: ArrayFilter = passThru\n  description = NULL_FILTER_DESCRIPTION\n\n  addFilter = () => {\n    const { fields, filters } = this\n    const { filterContainer } = this.parts\n    filterContainer.append(filterPart({ fields, filters }))\n  }\n\n  content = () => [\n    button(\n      {\n        part: 'add',\n        title: 'add filter condition',\n        onClick: this.addFilter,\n        class: 'round',\n      },\n      span({ class: 'icon-plus' })\n    ),\n    div({ part: 'filterContainer' }),\n    button(\n      { part: 'reset', title: 'reset filter', onClick: this.reset },\n      span({ class: 'icon-x' })\n    ),\n  ]\n\n  filters = availableFilters\n\n  reset = () => {\n    const { fields, filters } = this\n    const { filterContainer } = this.parts\n    this.description = NULL_FILTER_DESCRIPTION\n    this.filter = passThru\n    filterContainer.textContent = ''\n    filterContainer.append(filterPart({ fields, filters }))\n    this.dispatchEvent(new Event('change'))\n  }\n\n  buildFilter = (/* event: Event */) => {\n    const { filterContainer } = this.parts\n    if (filterContainer.children.length === 0) {\n      this.reset()\n      return\n    }\n    const filters = ([...filterContainer.children] as FilterPart[]).map(\n      (filterPart) => filterPart.filter\n    ) as Filter[]\n    const tests = filters.map((filter) => filter.test) as ObjectTest[]\n    this.description = filters.map((filter) => filter.description).join(', ')\n    this.filter = (array: any[]) =>\n      array.filter(\n        (obj: any) => tests.find((f) => f(obj) === false) === undefined\n      )\n    console.log(this.description, this.filter)\n    this.dispatchEvent(new Event('change'))\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    const { filterContainer } = this.parts\n    filterContainer.addEventListener('change', this.buildFilter)\n\n    this.reset()\n  }\n\n  render() {\n    super.render()\n  }\n}\n\nexport const filterBuilder = FilterBuilder.elementCreator({\n  tag: 'filter-builder',\n}) as ElementCreator<FilterBuilder>\n","/*!\n# `<live-example>`\n\n`<live-example>` makes it easy to insert interactive code examples in a web page.\nIt's effectively a super lightweight fiddle based on the `b8rjs`'s `fiddle` component\n(which I miss dearly). (You're probably looking at it right now.)\n\nYou can simply wrap it around a sequence of code blocks in the DOM with the\nlanguages (js, html, css) as annotations or you can directly set the `js`, `html`,\nand `css` properties.\n\n```css\n.preview {\n  padding: 0 var(--spacing);  \n}\n\n.example {\n  animation: throb ease-in-out 1s infinite alternate;\n}\n\n@keyframes throb {\n  from { color: blue }\n  to { color: red }\n}\n```\n```js\n// this code executes in an async function body\n// it has xinjs, xinjsui, and preview (the preview div) available as local variables\nconst { div } = xinjs.elements\npreview.append(div({class: 'example'}, 'fiddle de dee!'))\n```\n```html\n<h2>Example</h2>\n```\n\nA <live-example> can be given a `context` object {[key: string]: any}, which is the \nset of values available in the javascript's execution context (it is wrapped in an\nasync function and passed those values). By default, that context comprises `preview` \n(the `<div>` in which the example is rendered), `xinjs` (`* from xinjs`), \nand `xinjsui` (`* from xinjsui`).\n\nThe `LiveExample` class provides a static method, `insertExamples(element: HTMLElement)` \nthat will replace any sequence of \n`pre code[class=\"language-html\"],pre code[class=\"language-js\"],pre code[class=\"language-css\"]`\nelements with a `<live-example>` instance.\n*/\n\nimport { Component as WebComponent, ElementCreator, elements } from 'xinjs'\nimport * as xinjsui from './index'\nimport * as xinjs from 'xinjs'\nimport { codeEditor, CodeEditor } from './code-editor'\nimport { tabSelector, TabSelector } from './tab-selector'\n\nconst { div, span, xinSlot, style, button } = elements\n\nconst AsyncFunction = (async () => {}).constructor\n\nconst codeStyle = {\n  style: {\n    width: '100%',\n    height: '100%',\n  },\n}\n\ndocument.head.append(\n  style(\n    { id: 'live-example' },\n    `:root {\n  --live-example-height: 400px;\n}\n\nlive-example {\n  --live-example-preview-height: calc(var(--live-example-height) * 0.5);\n  --live-example-editor-height: calc(var(--live-example-height) * 0.5);\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  height: var(--live-example-height);\n}\n\nlive-example [part=\"example\"] {\n  flex: 1 1 var(--live-example-preview-height);\n  height: var(--live-example-preview-height);\n  position: relative;\n}\n\nlive-example [part=preview] {\n  height: 100%;\n  overflow: hidden;\n  background: #f7f7f7 url('data:image/svg+xml,\\\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"80\" height=\"80\" viewBox=\"0 0 8 8\" fill-opacity=\".02\" >\\\n  <rect x=\"4\" width=\"4\" height=\"4\" /><rect y=\"4\" width=\"4\" height=\"4\" /></svg>');\n}\n\nlive-example [part=\"editors\"] {\n  flex: 1 1 var(--live-example-editor-height);\n  height: var(--live-example-editor-height);\n  position: relative;\n}\n`\n  )\n)\n\nexport class LiveExample extends WebComponent {\n  context: { [key: string]: any } = { xinjs, xinjsui }\n\n  static insertExamples(element: HTMLElement): void {\n    const sources = [\n      ...element.querySelectorAll(\n        'pre code[class=\"language-html\"],pre code[class=\"language-js\"],pre code[class=\"language-css\"]'\n      ),\n    ].map((code) => ({\n      block: code.parentElement as HTMLPreElement,\n      language: code.classList[0].split('-').pop(),\n      code: (code as HTMLElement).innerText,\n    }))\n    for (let index = 0; index < sources.length; index += 1) {\n      const exampleSources = [sources[index]]\n      while (\n        index < sources.length - 1 &&\n        sources[index].block.nextElementSibling === sources[index + 1].block\n      ) {\n        exampleSources.push(sources[index + 1])\n        index += 1\n      }\n      const example = liveExample({ style: { margin: `1em -1em` } })\n      ;(exampleSources[0].block.parentElement as HTMLElement).insertBefore(\n        example,\n        exampleSources[0].block\n      )\n      exampleSources.forEach((source) => {\n        switch (source.language) {\n          case 'js':\n            example.js = source.code\n            break\n          case 'html':\n            example.html = source.code\n            break\n          case 'css':\n            example.css = source.code\n            break\n        }\n        source.block.remove()\n      })\n      example.showDefaultTab()\n    }\n  }\n\n  get css(): string {\n    return (this.parts.css as CodeEditor).value\n  }\n\n  set css(code: string) {\n    ;(this.parts.css as CodeEditor).value = code\n  }\n\n  get html(): string {\n    return (this.parts.html as CodeEditor).value\n  }\n\n  set html(code: string) {\n    ;(this.parts.html as CodeEditor).value = code\n  }\n\n  get js(): string {\n    return (this.parts.js as CodeEditor).value\n  }\n\n  set js(code: string) {\n    ;(this.parts.js as CodeEditor).value = code\n  }\n\n  content = () => [\n    div(\n      { part: 'example' },\n      style({ part: 'style' }),\n      div({ part: 'preview', class: 'preview' })\n    ),\n    tabSelector(\n      { part: 'editors' },\n      codeEditor({ name: 'js', mode: 'javascript', part: 'js', ...codeStyle }),\n      codeEditor({ name: 'html', mode: 'html', part: 'html', ...codeStyle }),\n      codeEditor({ name: 'css', mode: 'css', part: 'css', ...codeStyle }),\n      button(\n        {\n          slot: 'after-tabs',\n          title: 'reload',\n          class: 'transparent',\n          onClick: this.refresh,\n        },\n        span({ class: 'icon-refresh' })\n      )\n    ),\n    xinSlot({ part: 'sources', hidden: true }),\n  ]\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    const { sources } = this.parts\n    this.initFromElements([...sources.children] as HTMLElement[])\n  }\n\n  refresh = () => {\n    const { style, preview } = this.parts as {\n      style: HTMLStyleElement\n      preview: HTMLDivElement\n    }\n\n    style.innerText = this.css\n    preview.innerHTML = this.html\n\n    const context = { preview, ...this.context }\n    // @ts-expect-error ts is wrong\n    const func = new AsyncFunction(...Object.keys(context), this.js)\n    func(...Object.values(context)).catch((err: Error) => console.error(err))\n  }\n\n  initFromElements(elements: HTMLElement[]) {\n    for (const element of elements) {\n      element.hidden = true\n      const [mode, ...lines] = element.innerHTML.split('\\n') as string[]\n      if (['js', 'html', 'css'].includes(mode)) {\n        const minIndex = lines\n          .filter((line) => line.trim() !== '')\n          .map((line) => (line.match(/^\\s*/) as string[])[0].length)\n          .sort()[0]\n        const source = (\n          minIndex > 0 ? lines.map((line) => line.substring(minIndex)) : lines\n        ).join('\\n')\n        ;(this.parts[mode] as CodeEditor).value = source\n      }\n    }\n  }\n\n  showDefaultTab() {\n    const { editors } = this.parts as { editors: TabSelector }\n    if (this.js !== '') {\n      editors.value = 0\n    } else if (this.html !== '') {\n      editors.value = 1\n    } else if (this.css !== '') {\n      editors.value = 2\n    }\n  }\n\n  render(): void {\n    super.render()\n\n    this.refresh()\n  }\n}\n\nexport const liveExample = LiveExample.elementCreator({\n  tag: 'live-example',\n}) as ElementCreator<LiveExample>\n\nexport function makeExamplesLive(element: HTMLElement) {\n  const preElements = [...element.querySelectorAll('pre')].filter((pre) =>\n    ['js', 'html', 'css', 'json'].includes(pre.innerText.split('\\n')[0])\n  )\n  for (let i = 0; i < preElements.length; i++) {\n    const parts = [preElements[i]]\n    while (preElements[i].nextElementSibling === preElements[i + 1]) {\n      parts.push(preElements[i + 1])\n      i += 1\n    }\n    const example = liveExample()\n    element.insertBefore(example, parts[0])\n    example.initFromElements(parts)\n  }\n}\n","/*!\n# `<tab-selector>`\n\n`<tab-selector>` creates a `tabpanel` for its children, creating a `tab` for each based on its\n`name` attribute.\n\n```html\n<tab-selector>\n  <div name=\"first\">first body</div>\n  <div name=\"second\">second body</div>\n  <div name=\"third\">third body</div>\n</tab-selector>\n```\n```css\n  tab-selector {\n    height: 100%;\n  }\n  \n  div[name] {\n    padding: 20px;\n    text-align: center;\n    height: 100%;\n    font-size: 200%;\n  }\n```\n```js\n[...preview.querySelectorAll('div[name]')].forEach(div => {\n  div.style.color = `hsl(${(Math.random() * 360).toFixed(0)} 50% 50%)`\n})\n```\n\nUsage:\n\n`TabSelector` is the class and `tabSelector` is the `ElementCreator`. So the three methods\nof creating a `<tab-selector>` are:\n\n1. importing `TabSelector` and inserting the appropriate HTML: `<tab-selector>`.\n2. using `new TabSelector()` and appending it to the DOM.\n3. using `tabSelector()` and appending it to the DOM. This last is more convenient because\n   `ElementCreator` allows composition, convenient assignment of properties and attributes,\n   and so forth.\n*/\n\nimport {\n  Component as WebComponent,\n  ElementCreator,\n  elements,\n  vars,\n} from 'xinjs'\n\nconst { div, slot } = elements\n\nexport class TabSelector extends WebComponent {\n  value = 0\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative',\n      overflow: 'hidden',\n      boxShadow: 'none !important',\n    },\n    slot: {\n      position: 'relative',\n      display: 'block',\n      flex: '1 1 auto',\n      overflow: 'hidden',\n      overflowY: 'auto',\n    },\n    'slot[name=\"after-tabs\"]': {\n      flex: '0 0 auto',\n    },\n    '::slotted([hidden])': {\n      display: 'none !important',\n    },\n    ':host .tab-holder': {\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    ':host .tab-row': {\n      display: 'flex',\n    },\n    ':host .tabs': {\n      display: 'flex',\n      userSelect: 'none',\n      whiteSpace: 'nowrap',\n    },\n    ':host .tabs > div': {\n      padding: `${vars.spacing50} ${vars.spacing}`,\n      cursor: 'default',\n    },\n    ':host .tabs > [aria-selected=\"true\"]': {\n      color: vars.tabSelectorSelectedColor,\n    },\n    ':host .border': {\n      background: 'var(--tab-selector-bar-color, #ccc)',\n    },\n    ':host .border > .selected': {\n      content: ' ',\n      width: 0,\n      height: 'var(--tab-selector-bar-height, 2px)',\n      background: vars.tabSelectorSelectedColor,\n      transition: 'ease-out 0.2s',\n    },\n  })\n\n  content = [\n    div(\n      { class: 'tab-holder', role: 'tabpanel' },\n      div(\n        { class: 'tab-row' },\n        div({ class: 'tabs', part: 'tabs' }),\n        div({ style: { flex: '1 1 auto' } }),\n        slot({ name: 'after-tabs' })\n      ),\n      div({ class: 'border' }, div({ class: 'selected', part: 'selected' }))\n    ),\n    slot(),\n  ]\n\n  constructor() {\n    super()\n    this.initAttributes('anne', 'example')\n  }\n\n  addTabBody(body: HTMLElement, selectTab = false): void {\n    if (!body.hasAttribute('name')) {\n      console.error('element has no name attribute', body)\n      throw new Error('element has no name attribute')\n    }\n    this.shadowRoot?.append(body)\n    this.setupTabs()\n    if (selectTab) {\n      this.value = this.bodies.length - 1\n    }\n    this.queueRender()\n  }\n\n  keyTab = (event: KeyboardEvent): void => {\n    const { tabs } = this.parts\n    const tabIndex = [...tabs.children].indexOf(event.target as HTMLElement)\n    switch (event.key) {\n      case 'ArrowLeft':\n        this.value =\n          (tabIndex + Number(tabs.children.length) - 1) % tabs.children.length\n        ;(tabs.children[this.value] as HTMLElement).focus()\n        event.preventDefault()\n        break\n      case 'ArrowRight':\n        this.value = (tabIndex + 1) % tabs.children.length\n        ;(tabs.children[this.value] as HTMLElement).focus()\n        event.preventDefault()\n        break\n      case ' ':\n        this.pickTab(event)\n        event.preventDefault()\n        break\n      default:\n      // console.log(event.key)\n    }\n  }\n\n  get bodies(): Element[] {\n    return [...this.children].filter((elt) => elt.hasAttribute('name'))\n  }\n\n  pickTab = (event: Event): void => {\n    const { tabs } = this.parts\n    const target = event.target as HTMLElement\n    const tabIndex = [...tabs.children].indexOf(target)\n    if (tabIndex > -1) {\n      this.value = tabIndex\n    }\n  }\n\n  setupTabs = (): void => {\n    const { tabs } = this.parts\n    const tabBodies = [...this.children] as Element[]\n\n    tabBodies.filter((child) => child.hasAttribute('name'))\n    tabs.textContent = ''\n    for (const index in tabBodies) {\n      const tabBody = tabBodies[index]\n      const name = tabBody.getAttribute('name') as string\n      const bodyId = `${this.instanceId}-${index}`\n      tabBody.id = bodyId\n      tabs.append(div(name, { tabindex: 0, role: 'tab', ariaControls: bodyId }))\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    const { tabs } = this.parts\n    tabs.addEventListener('click', this.pickTab)\n    tabs.addEventListener('keydown', this.keyTab)\n    this.setupTabs()\n  }\n\n  render(): void {\n    const { tabs, selected } = this.parts\n    const tabBodies = this.bodies\n    for (let i = 0; i < tabBodies.length; i++) {\n      const tabBody = tabBodies[i]\n      const tab = tabs.children[i] as HTMLElement\n      if (this.value === Number(i)) {\n        tab.setAttribute('aria-selected', 'true')\n        selected.style.marginLeft = `${tab.offsetLeft - tabs.offsetLeft}px`\n        selected.style.width = `${tab.offsetWidth}px`\n        tabBody.removeAttribute('hidden')\n      } else {\n        tab.removeAttribute('aria-selected')\n        tabBody.setAttribute('hidden', '')\n      }\n    }\n  }\n}\n\nexport const tabSelector = TabSelector.elementCreator({\n  tag: 'tab-selector',\n}) as ElementCreator<TabSelector>\n","/*!\n# `<map-box>`\n\nA [mapboxgl](https://docs.mapbox.com/mapbox-gl-js/api/) wrapper.\n\n```html\n<!-- please don't abuse my mapbox token -->\n<map-box \n  style=\"width: 100%; height: 190px\"\n  coords=\"21.4389,-158.0001,9\"\n  token=\"pk.eyJ1IjoicG9kcGVyc29uIiwiYSI6ImNqc2JlbWU0bjA1ZmY0YW5ycHZod3VhbWcifQ.arvqfpOqMgFYkKgQ35UScA\"\n></map-box>\n```\n\nThere's no need to learn new apis, just access the element's `map` property.\n*/\n\nimport { Component as WebComponent, ElementCreator, elements } from 'xinjs'\nimport { styleSheet, scriptTag } from './via-tag'\n\nexport const MAPSTYLES = [\n  {\n    name: 'streets',\n    url: 'mapbox://styles/mapbox/streets-v10',\n  },\n  {\n    name: 'outdoors',\n    url: 'mapbox://styles/mapbox/outdoors-v10',\n  },\n  {\n    name: 'light',\n    url: 'mapbox://styles/mapbox/light-v9',\n  },\n  {\n    name: 'dark',\n    url: 'mapbox://styles/mapbox/dark-v9',\n  },\n  {\n    name: 'satellite',\n    url: 'mapbox://styles/mapbox/satellite-v9',\n  },\n  {\n    name: 'sateliite + streets',\n    url: 'mapbox://styles/mapbox/satellite-streets-v10',\n  },\n  {\n    name: 'preview day',\n    url: 'mapbox://styles/mapbox/navigation-preview-day-v2',\n  },\n  {\n    name: 'preview night',\n    url: 'mapbox://styles/mapbox/navigation-preview-night-v2',\n  },\n  {\n    name: 'guidance day',\n    url: 'mapbox://styles/mapbox/navigation-guidance-day-v2',\n  },\n  {\n    name: 'guidance night',\n    url: 'mapbox://styles/mapbox/navigation-guidance-night-v2',\n  },\n]\n\nconst { div } = elements\n\nexport class MapBox extends WebComponent {\n  coords = '65.01715565258993,25.48081004203459,12'\n  content = div({ style: { width: '100%', height: '100%' } })\n  get map(): any {\n    return this._map\n  }\n  mapStyle = MAPSTYLES[0]\n  token = ''\n\n  static mapboxCSSAvailable: Promise<void>\n  static mapboxAvailable?: Promise<any>\n\n  private _map: any\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'inline-block',\n      position: 'relative',\n      width: '400px',\n      height: '400px',\n      textAlign: 'left',\n    },\n  })\n\n  constructor() {\n    super()\n    this.initAttributes('coords', 'token', 'mapStyle')\n\n    if (MapBox.mapboxCSSAvailable === undefined) {\n      MapBox.mapboxCSSAvailable = styleSheet(\n        'https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css'\n      ).catch((e) => {\n        console.error('failed to load mapbox-gl.css', e)\n      })\n      MapBox.mapboxAvailable = scriptTag(\n        'https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'\n      ).catch((e) => {\n        console.error('failed to load mapbox-gl.js', e)\n      })\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    if (!this.token) {\n      console.error(\n        'mapbox requires an access token which you can provide via the token attribute'\n      )\n    }\n  }\n\n  render(): void {\n    super.render()\n\n    if (!this.token) {\n      return\n    }\n\n    const { div } = this.parts\n\n    const [long, lat, zoom] = this.coords.split(',').map((x) => Number(x))\n\n    if (this.map) {\n      this.map.remove()\n    }\n\n    MapBox.mapboxAvailable!.then(({ mapboxgl }: { mapboxgl: any }) => {\n      console.log(\n        \"%cmapbox may complain about missing css -- don't panic!\",\n        'background: orange; color: black; padding: 0 5px;'\n      )\n      mapboxgl.accessToken = this.token\n      this._map = new mapboxgl.Map({\n        container: div,\n        style: this.mapStyle.url,\n        zoom,\n        center: [lat, long],\n      })\n\n      this._map.on('render', () => this._map.resize())\n    })\n  }\n}\n\nexport const mapBox = MapBox.elementCreator({\n  tag: 'map-box',\n}) as ElementCreator<MapBox>\n","import { Component, ElementCreator } from 'xinjs'\nimport { marked } from 'marked'\n\n/*!\n# `<markdown-viewer>`\n\nRender [markdown](https://www.markdownguide.org/) anywhere, either using the `src` attribute to load\nthe file asynchronously, or just put the text inside it. Powered by [marked](https://www.npmjs.com/package/marked).\n\n```\n<markdown-viewer src=\"/path/to/file.md\">\n```\n\nAnd you can set the `<markdown-viewer>` element's `value` directly, or:\n\n```html\n<markdown-viewer>\n## hello\nworld\n</markdown-viewer>\n```\n```css\nmarkdown-viewer {\n  display: block;\n  padding: var(--spacing);\n}\n```\n\nAnd just set the element's `value` and it will render it for you.\n*/\n\nexport class MarkdownViewer extends Component {\n  src = ''\n  value = ''\n  content = null\n  constructor() {\n    super()\n    this.initAttributes('src')\n  }\n  connectedCallback(): void {\n    super.connectedCallback()\n    if (this.src !== '') {\n      ;(async () => {\n        const request = await fetch(this.src)\n        this.value = await request.text()\n      })()\n    } else if (this.value === '') {\n      this.value = this.textContent != null ? this.textContent : ''\n    }\n  }\n  didRender: (() => void) | (() => Promise<void>) = (): void => {}\n  render() {\n    super.render()\n    this.innerHTML = marked(typeof this.value === 'string' ? this.value : '', {\n      mangle: false,\n      headerIds: false,\n    })\n    this.didRender()\n  }\n}\n\nexport const markdownViewer = MarkdownViewer.elementCreator({\n  tag: 'markdown-viewer',\n}) as ElementCreator<MarkdownViewer>\n","/*!\n# `<rich-text>`\n\nA simple and easily extensible `document.execCommand` WYSIWYG editor with some conveniences.\n\nBy default, it treats its initial contents as its document, but you can also set (and get)\nits `value`.\n\n```html\n<rich-text widgets=\"minimal\">\n<h3>Heading</h3>\n<p>And some <b>text</b></p>\n</rich-text>\n```\n\nIt has a `toolbar` slot (actually a xin-slot because it doesn't use the shadowDOM).\n\nIf you set the `widgets` attribute to `default` or `minimal` you will get a toolbar\nfor free. Or you can add your own custom widgets.\n\nA number of convenience functions available, including:\n\n- `commandButton(title: string, command: string, iconClass: string)`\n- `blockStyle(options: Array<{caption: string, tagType: string}>)`\n- `spacer(width = '10px')`\n- `elastic(width = '10px')`\n\nThese each create a toolbar widget. A `blockStyle`-generated `<select>` element will\nautomatically have its value changed based on the current selection.\n\nThe `<rich-text>` component provides `selectedText` and `selectedBlocks` properties, allowing\nyou to easily perform operations on text selections, and a `selectionChange` callback (which\nsimply passes through document `selectionchange` events, but also passes a reference to\nthe `<rich-text>` component).\n*/\n\nimport { Component as WebComponent, ElementCreator, elements } from 'xinjs'\n\nconst { style, xinSlot, div, select, fragment, option, button, span } = elements\n\ndocument.head.append(\n  style(\n    { id: 'rich-text' },\n    `rich-text {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\nrich-text [part=\"toolbar\"] {\n  padding: 4px;\n  display: flex;\n  gap: 0px;\n  flex: 1 0 auto;\n  flex-wrap: wrap;\n}\n`\n  )\n)\n\nconst blockStyles = [\n  {\n    caption: 'Title',\n    tagType: 'H1',\n  },\n  {\n    caption: 'Heading',\n    tagType: 'H2',\n  },\n  {\n    caption: 'Subheading',\n    tagType: 'H3',\n  },\n  {\n    caption: 'Minor heading',\n    tagType: 'H4',\n  },\n  {\n    caption: 'Body',\n    tagType: 'P',\n  },\n  {\n    caption: 'Code Block',\n    tagType: 'PRE',\n  },\n]\n\nexport function blockStyle(options = blockStyles) {\n  return fragment(\n    select(\n      { title: 'paragraph style', slot: 'toolbar', class: 'block-style' },\n      ...options.map(({ caption, tagType }) =>\n        option(caption, { value: `formatBlock,${tagType}` })\n      )\n    ),\n    span({ class: 'icon-chevron-down' })\n  )\n}\n\nexport function spacer(width = '10px') {\n  return span({\n    slot: 'toolbar',\n    style: { flex: `0 0 ${width}`, content: ' ' },\n  })\n}\n\nexport function elastic(width = '10px') {\n  return span({\n    slot: 'toolbar',\n    style: { flex: `0 0 ${width}`, content: ' ' },\n  })\n}\n\nexport function commandButton(\n  title: string,\n  dataCommand: string,\n  iconClass: string\n) {\n  return button(\n    { slot: 'toolbar', dataCommand, title },\n    span({ class: iconClass })\n  )\n}\n\nconst paragraphStyleWidgets = () => [\n  commandButton('left-justify', 'justifyLeft', 'icon-format_align_left'),\n  commandButton('center', 'justifyCenter', 'icon-format_align_center'),\n  commandButton('right-justify', 'justifyRight', 'icon-format_align_right'),\n  spacer(),\n  commandButton(\n    'bullet list',\n    'insertUnorderedList',\n    'icon-format_list_bulleted'\n  ),\n  commandButton(\n    'numbered list',\n    'insertOrderedList',\n    'icon-format_list_numbered'\n  ),\n  spacer(),\n  commandButton('indent', 'indent', 'icon-format_indent_increase'),\n  commandButton('indent', 'outdent', 'icon-format_indent_decrease'),\n]\n\nconst characterStyleWidgets = () => [\n  commandButton('bold', 'bold', 'icon-format_bold'),\n  commandButton('italic', 'italic', 'icon-format_italic'),\n  commandButton('underline', 'underline', 'icon-format_underlined'),\n]\n\nconst minimalWidgets = () => [\n  blockStyle(),\n  spacer(),\n  ...characterStyleWidgets(),\n]\n\nexport const richTextWidgets = () => [\n  blockStyle(),\n  spacer(),\n  ...paragraphStyleWidgets(),\n  spacer(),\n  ...characterStyleWidgets(),\n]\n\nexport class RichText extends WebComponent {\n  widgets: 'none' | 'minimal' | 'default' = 'default'\n\n  get value(): string {\n    return this.parts.doc.innerHTML\n  }\n\n  set value(docHtml: string) {\n    this.parts.doc.innerHTML = docHtml\n  }\n\n  blockElement(elt: Node): Element | undefined {\n    const { doc } = this.parts\n    while (elt.parentElement !== null && elt.parentElement !== doc) {\n      elt = elt.parentElement\n    }\n    return elt.parentElement === doc ? (elt as Element) : undefined\n  }\n\n  get selectedBlocks(): any[] {\n    const { doc } = this.parts\n    const selObject = window.getSelection()\n    if (selObject === null) {\n      return []\n    }\n    const blocks = [] as any[]\n    for (let i = 0; i < selObject.rangeCount; i++) {\n      const range = selObject.getRangeAt(i)\n      if (!doc.contains(range.commonAncestorContainer)) {\n        continue\n      }\n      let block: Element | null = this.blockElement(\n        range.startContainer\n      ) as Element\n      const lastBlock = this.blockElement(range.endContainer) as Element\n      blocks.push(block)\n      while (block !== lastBlock && block !== null) {\n        block = block.nextElementSibling\n        blocks.push(block)\n      }\n    }\n    return blocks\n  }\n\n  get selectedText(): string {\n    const selObject = window.getSelection()\n    if (selObject === null) {\n      return ''\n    }\n    return this.selectedBlocks.length ? selObject.toString() : ''\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  selectionChange = (event: Event, editor: RichText): void => {}\n\n  content = [\n    xinSlot({\n      name: 'toolbar',\n      part: 'toolbar',\n    }),\n    div({\n      part: 'doc',\n      contenteditable: true,\n      style: {\n        flex: '1 1 auto',\n        outline: 'none',\n      },\n    }),\n    xinSlot({\n      part: 'content',\n    }),\n  ]\n\n  constructor() {\n    super()\n    this.initAttributes('widgets')\n  }\n\n  doCommand(command?: string) {\n    if (command === undefined) {\n      return\n    }\n    const args = command.split(',') as string[]\n\n    console.log('execCommand', args[0], false, ...args.slice(1))\n    document.execCommand(args[0], false, ...args.slice(1))\n  }\n\n  handleSelectChange = (event: Event) => {\n    // @ts-expect-error Typescript is wrong about event.target lacking closest\n    const select = event.target.closest('select') as HTMLSelectElement\n    if (select == null) {\n      return\n    }\n\n    this.doCommand(select.value)\n  }\n\n  handleButtonClick = (event: Event) => {\n    // @ts-expect-error Typescript is wrong about event.target lacking closest\n    const button = event.target.closest('button')\n    if (button == null) {\n      return\n    }\n\n    this.doCommand(button.dataset.command)\n  }\n\n  updateBlockStyle() {\n    const select = this.parts.toolbar.querySelector(\n      'select.block-style'\n    ) as HTMLSelectElement | null\n    if (select === null) {\n      return\n    }\n    let blockTags = (this.selectedBlocks as HTMLElement[]).map(\n      (block) => block.tagName\n    )\n    blockTags = [...new Set(blockTags)]\n    select.value = blockTags.length === 1 ? `formatBlock,${blockTags[0]}` : ''\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    const { doc, content, toolbar } = this.parts\n    if (content.innerHTML !== '' && doc.innerHTML === '') {\n      doc.innerHTML = content.innerHTML\n      content.innerHTML = ''\n    }\n    content.style.display = 'none'\n\n    toolbar.addEventListener('click', this.handleButtonClick)\n    toolbar.addEventListener('change', this.handleSelectChange)\n\n    document.addEventListener('selectionchange', (event: Event) => {\n      this.updateBlockStyle()\n      this.selectionChange(event, this)\n    })\n  }\n\n  render(): void {\n    const { toolbar } = this.parts\n\n    super.render()\n\n    if (toolbar.children.length === 0) {\n      switch (this.widgets) {\n        case 'minimal':\n          toolbar.append(...minimalWidgets())\n          break\n        case 'default':\n          toolbar.append(...richTextWidgets())\n          break\n      }\n    }\n  }\n}\n\nexport const richText = RichText.elementCreator({\n  tag: 'rich-text',\n}) as ElementCreator<RichText>\n","/*!\n# `<side-nav>`\n\nThe default layout for iOS / iPadOS apps is to hide the sidebar when displaying content on small\nscreens, and display the sidebar when space is available (with the user able to explicitly hide\nthe sidebar if so desired). `<side-nav>` provides this functionality.\n\n`<side-nav>` is used to handle the layout of the documentation tab panel.\n*/\n\nimport {\n  Component as WebComponent,\n  ElementCreator,\n  elements,\n  varDefault,\n} from 'xinjs'\n\nconst { slot } = elements\n\nexport class SideNav extends WebComponent {\n  minSize = 800\n  navSize = 200\n  compact = false\n\n  content = [slot({ name: 'nav' }), slot({ part: 'content' })]\n\n  private _contentVisible = false\n  get contentVisible(): boolean {\n    return this._contentVisible\n  }\n\n  set contentVisible(visible: boolean) {\n    this._contentVisible = visible\n    this.queueRender()\n  }\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'grid',\n      gridTemplateColumns: `${varDefault.navWidth(\n        '50%'\n      )} ${varDefault.contentWidth('50%')}`,\n      gridTemplateRows: '100%',\n      position: 'relative',\n      margin: varDefault.margin('0 0 0 -100%'),\n      transition: varDefault.sideNavTransition('0.25s ease-out'),\n    },\n    ':host slot': {\n      position: 'relative',\n    },\n    ':host slot:not([name])': {\n      display: 'block',\n    },\n    ':host slot[name=\"nav\"]': {\n      display: 'block',\n    },\n  })\n\n  onResize = () => {\n    const { content } = this.parts\n    if (this.offsetParent === null) {\n      return\n    }\n\n    const empty =\n      [...this.childNodes].find((node) =>\n        node instanceof Element ? node.getAttribute('slot') !== 'nav' : true\n      ) === undefined\n    if (empty) {\n      this.style.setProperty('--nav-width', '100%')\n      this.style.setProperty('--content-width', '0%')\n      return\n    }\n\n    const parent = this.offsetParent as HTMLElement\n\n    this.compact = parent.offsetWidth < this.minSize\n    if (!this.compact) {\n      content.classList.add('-side-nav-visible')\n      this.style.setProperty('--nav-width', `${this.navSize}px`)\n      this.style.setProperty(\n        '--content-width',\n        `calc(100% - ${this.navSize}px)`\n      )\n      this.style.setProperty('--margin', '0')\n    } else {\n      content.classList.remove('-side-nav-visible')\n      this.style.setProperty('--nav-width', '50%')\n      this.style.setProperty('--content-width', '50%')\n\n      if (this.contentVisible) {\n        this.style.setProperty('--margin', '0 0 0 -100%')\n      } else {\n        this.style.setProperty('--margin', '0 -100% 0 0')\n      }\n    }\n  }\n\n  private observer: any\n  connectedCallback(): void {\n    super.connectedCallback()\n    this.contentVisible = this.parts.content.childNodes.length === 0\n    globalThis.addEventListener('resize', this.onResize)\n\n    this.observer = new MutationObserver(this.onResize)\n    this.observer.observe(this, { childList: true })\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback()\n    this.observer.disconnect()\n  }\n\n  constructor() {\n    super()\n    this.initAttributes('minSize', 'navSize', 'compact')\n  }\n\n  render(): void {\n    super.render()\n    this.onResize()\n  }\n}\n\nexport const sideNav = SideNav.elementCreator({\n  tag: 'side-nav',\n}) as ElementCreator<SideNav>\n","import { Component as WebComponent, ElementCreator, elements } from 'xinjs'\n\nconst { slot } = elements\n\n/*!\n# `<size-break>`\n\nWhile we wait for enough browsers to implement [container-queries](https://www.w3.org/TR/css-contain-3/),\nand in any event when you simply want to do different things at different sizes (e.g. in the project I'm\nworking on right now, a row of buttons turns into a menu at narrow widths) there's `<size-break>`.\n\nNote that the sizes referred to are of the `<size-break>`'s `.offsetParent`, and it watches for\nthe window's `resize` events and its own (via `ResizeObserver`).\n\n```html\n<div class=\"container\">\n  <size-break min-width=\"150\" min-height=\"80\">\n    <h1>BIG!</h1>\n    <i slot=\"small\">little</i>\n  </size-break>\n  <div class=\"sizer\"></div>\n</div>\n```\n```css\n.preview {\n  touch-action: none;\n}\n\n.preview size-break {\n  width: 100%;\n  height: 100%;\n  background: #fff8;\n  border: 1px solid #aaa;\n}\n\n.container {\n  position: relative;\n  min-width: 100px;\n  min-height: 40px;\n  max-height: 200px;\n  width: 400px;\n  height: 100px;\n}\n\n.sizer {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  background: #0003;\n  bottom: 0;\n  right: 0;\n  cursor: nwse-resize;\n}\n```\n```js\nconst { trackDrag } = xinjsui\n\nconst container = preview.querySelector('.container')\nconst sizer = preview.querySelector('.sizer')\n\nfunction resize(event) {\n  const w = container.offsetWidth\n  const h = container.offsetHeight\n  trackDrag(event, (dx, dy, event) => {\n    container.style.width = (w + dx) + 'px'\n    container.style.height = (h + dy) + 'px'\n    return event.type === 'mouseup'\n  }, 'nwse-resize')\n}\n\nsizer.addEventListener('mousedown', resize, 'nwse-resize')\nsizer.addEventListener('touchstart', resize, 'nwse-resize')\n```\n\n`<size-break>` supports both `min-width` and/or `min-height`, and you can of course target only one\nof the slots if you like. The demo site uses them to hide the [bundlejs](https://bundlejs.com/) badge when\nspace is tight.\n*/\n\nexport class SizeBreak extends WebComponent {\n  minWidth = 0\n  minHeight = 0\n  value: 'normal' | 'small' = 'normal'\n\n  content = [slot({ part: 'normal' }), slot({ part: 'small', name: 'small' })]\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'inline-block',\n      position: 'relative',\n    },\n  })\n\n  constructor() {\n    super()\n    this.initAttributes('minWidth', 'minHeight')\n  }\n\n  onResize = () => {\n    const { normal, small } = this.parts\n    const parent = this.offsetParent as HTMLElement | null\n    if (!(parent instanceof HTMLElement)) {\n      return\n    } else if (\n      parent.offsetWidth < this.minWidth ||\n      parent.offsetHeight < this.minHeight\n    ) {\n      normal.hidden = true\n      small.hidden = false\n      this.value = 'small'\n    } else {\n      normal.hidden = false\n      small.hidden = true\n      this.value = 'normal'\n    }\n  }\n\n  // TODO trigger a resize event when an ancestor element\n  // is inserted or moved into the DOM.\n  connectedCallback(): void {\n    super.connectedCallback()\n    globalThis.addEventListener('resize', this.onResize)\n  }\n\n  disconnectedCallback(): void {\n    super.disconnectedCallback()\n    globalThis.removeEventListener('resize', this.onResize)\n  }\n}\n\nexport const sizeBreak = SizeBreak.elementCreator({\n  tag: 'size-break',\n}) as ElementCreator<SizeBreak>\n","export type SortValuator<T> = (f: T) => (string | number)[]\n\nexport type SortCallback<T> = (p: T, q: T) => number\n\n/*!\n# makeSorter\n\nI'm always confusing myself when writing sort functions, so I wrote `makeSorter()`. It's\ninsanely simple and just works™. It makes writing an array sort callback for anything\nother than an array of numbers or strings easier.\n\nTo create a sort callback that sorts by propA then propB (if propA is tied):\n```\nconst sorter = makeSorter(\n  obj => [obj.propA, obj.propB]\n)\n```\n\nAs above, but sort descending:\n```\nconst sorter = makeSorter(\n  obj => [obj.propA, obj.propB], \n  false\n)\n```\n\nAs above but propA is sorted ascending, propB descending\n```\nconst sorter = makeSorter(\n  obj => [obj.propA, obj.propB], \n  [true, false]\n)\n```\n\nInteractive example:\n\n```css\n.preview {\n  padding: var(--spacing);\n}\n```\n```js\nconst { select, option, div, ul, li } = xinjs.elements\nconst { makeSorter } = xinjsui\n\nconst people = [\n  { first: 'Juanita', last: 'Citizen', age: 25 },\n  { first: 'Rebecca', last: 'Howe', age: 35 },\n  { first: 'Jane', last: 'Doe', age: 35 },\n  { first: 'Sam', last: 'Malone', age: 40 },\n  { first: 'Norm', last: 'Peterson', age: 38 },\n]\n\nconst sorters = {\n  firstSort: makeSorter(person => [person.first]),\n  firstDescSort: makeSorter(person => [person.first], false),\n  nameSort: makeSorter(person => [person.last, person.first]),\n  ageFirst: makeSorter(person => [-person.age, person.last]),\n  ageLast: makeSorter(person => [person.age, person.first], [true, false]),\n}\n\nfunction person({first, last, age}) {\n  return li(`${first} ${last}, ${age}`)\n}\n\nconst list = ul()\nsortPicker = select(\n  option('Sort by first', {value: 'firstSort'}),\n  option('Sort by first (desc)', {value: 'firstDescSort'}),\n  option('Sort by last, first', {value: 'nameSort'}),\n  option('Sort by age (desc), first', {value: 'ageFirst'}),\n  option('Sort by age, last (desc)', {value: 'ageLast'}),\n  {\n    onChange: render,\n    value: 'nameSort'\n  },\n)\n\nfunction render () {\n  list.textContent = ''\n  list.append(...people.sort(sorters[sortPicker.value]).map(person))\n}\n\npreview.append(\n  sortPicker,\n  list\n)\n\nrender()\n```\n*/\n\nexport function makeSorter<T>(\n  sortValuator: SortValuator<T>,\n  ascending: boolean | boolean[] = true\n): SortCallback<T> {\n  return (p: any, q: any) => {\n    const pSort = sortValuator(p)\n    const qSort = sortValuator(q)\n    for (const i in pSort) {\n      if (pSort[i] !== qSort[i]) {\n        const isAscending = Array.isArray(ascending)\n          ? ascending[i] !== false\n          : ascending\n        return isAscending\n          ? pSort[i] > qSort[i]\n            ? 1\n            : -1\n          : pSort[i] > qSort[i]\n          ? -1\n          : 1\n      }\n    }\n    return 0\n  }\n}\n"],"names":[],"version":3,"file":"index.js.map"}
{"mappings":"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","sources":["src/index.ts","src/bodymovin-player.ts","src/via-tag.ts","src/code-editor.ts","src/data-table.ts","src/track-mouse.ts","src/filter-builder.ts","src/mapbox.ts","src/markdown-viewer.ts","src/size-break.ts","src/tab-selector.ts"],"sourcesContent":["export { bodymovinPlayer } from './bodymovin-player'\nexport { codeEditor } from './code-editor'\nexport { dataTable } from './data-table'\nexport { filterBuilder } from './filter-builder'\nexport { mapBox } from './mapbox'\nexport { markdownViewer } from './markdown-viewer'\nexport { sizeBreak } from './size-break'\nexport { tabSelector } from './tab-selector'\nexport { trackMouse } from './track-mouse'\nexport { scriptTag, styleSheet } from './via-tag'\n","// https://lottiefiles.github.io/lottie-docs/advanced_interactions/\n\nimport { Component as WebComponent, elements } from 'xinjs'\nimport { scriptTag } from './via-tag'\n\ninterface LottieConfig {\n  // @ts-expect-error\n  container?: HTMLElement\n  renderer: 'svg' | 'cancas' | 'html'\n  loop: boolean\n  autoplay: boolean\n  animationData?: string\n  path?: string\n  [key: string]: any\n}\n\nclass BodymovinPlayer extends WebComponent {\n  content = null\n  src = ''\n  json = ''\n  config: LottieConfig = {\n    renderer: 'svg',\n    loop: true,\n    autoplay: true,\n  }\n\n  static bodymovinAvailable?: Promise<void>\n\n  animation: any\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      width: 400,\n      height: 400,\n      display: 'inline-block',\n    },\n  })\n\n  private _loading = false\n\n  get loading(): boolean {\n    return this._loading\n  }\n\n  constructor() {\n    super()\n    this.initAttributes('src', 'json')\n    if (BodymovinPlayer.bodymovinAvailable === undefined) {\n      BodymovinPlayer.bodymovinAvailable =\n        // @ts-expect-error\n        globalThis.bodymovinPlayer === undefined\n          ? scriptTag(\n              'https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js'\n            )\n          : Promise.resolve()\n    }\n  }\n\n  private readonly doneLoading = (): void => {\n    this._loading = false\n  }\n\n  private readonly load = (): void => {\n    this._loading = true\n\n    this.config.container = this.shadowRoot\n    if (this.json !== '') {\n      this.config.animationData = this.json\n      delete this.config.path\n    } else if (this.src !== '') {\n      delete this.config.animationData\n      this.config.path = this.src\n    } else {\n      console.log(\n        '%c<bodymovin-player>%c expected either %cjson%c (animation data) or %csrc% c(url) but found neither.',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default'\n      )\n    }\n\n    if (this.animation) {\n      this.animation.destroy()\n      this.shadowRoot.querySelector('svg').remove()\n    }\n    // @ts-expect-error\n    this.animation = globalThis.bodymovin.loadAnimation(this.config)\n    this.animation.addEventListener('DOMLoaded', this.doneLoading)\n  }\n\n  render(): void {\n    super.render()\n\n    BodymovinPlayer.bodymovinAvailable!.then(this.load).catch(\n      (e: string): void => {\n        console.error(e)\n      }\n    )\n  }\n}\n\nexport const bodymovinPlayer = BodymovinPlayer.elementCreator({\n  tag: 'bodymovin-player',\n})\n","import { elements } from 'xinjs'\n\ninterface PromiseMap {\n  [key: string]: Promise<any>\n}\n\n// TODO scriptTag provided a property that if present in globalThis is returned\n// so that a user can load the modules themselves if desired.\nconst loadedScripts: PromiseMap = {}\nexport function scriptTag(src: string): Promise<any> {\n  if (loadedScripts[src] === undefined) {\n    const scriptElt = elements.script({ src })\n\n    // @ts-expect-error\n    document.head.append(scriptElt)\n\n    loadedScripts[src] = new Promise((resolve) => {\n      scriptElt.onload = () => resolve(globalThis)\n    })\n  }\n\n  return loadedScripts[src]\n}\n\nconst loadedStyleSheets: PromiseMap = {}\nexport function styleSheet(href: string): Promise<void> {\n  if (loadedStyleSheets[href] === undefined) {\n    const linkElement = elements.link({\n      rel: 'stylesheet',\n      type: 'text/css',\n      href,\n    })\n\n    // @ts-expect-error\n    document.head.append(linkElement)\n\n    loadedStyleSheets[href] = new Promise((resolve) => {\n      linkElement.onload = resolve\n    })\n  }\n  return loadedStyleSheets[href]\n}\n","import { Component as WebComponent, elements, vars } from 'xinjs'\nimport { scriptTag } from './via-tag'\n\nconst ACE_BASE_URL = 'https://cdnjs.cloudflare.com/ajax/libs/ace/1.23.2/'\nconst DEFAULT_THEME = 'ace/theme/monokai'\n\nconst makeCodeEditor = async (\n  codeElement: any,\n  mode = 'html',\n  options = {},\n  theme = DEFAULT_THEME\n) => {\n  const { ace } = await scriptTag(`${ACE_BASE_URL}ace.min.js`)\n  ace.config.set('basePath', ACE_BASE_URL)\n  const editor = ace.edit(codeElement, {\n    mode: `ace/mode/${mode}`,\n    tabSize: 2,\n    useSoftTabs: true,\n    useWorker: false,\n    ...options,\n  })\n  editor.setTheme(theme)\n  return editor\n}\n\nclass CodeEditor extends WebComponent {\n  value = ''\n  mode = 'javascript'\n  disabled = false\n  role = 'code editor'\n\n  get editor(): any {\n    return this._editor\n  }\n  private _editor: any | undefined\n  private _editorPromise: Promise<any> | undefined\n  options: any = {}\n  theme = DEFAULT_THEME\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'block',\n      position: 'relative',\n    },\n  })\n\n  constructor() {\n    super()\n\n    this.initAttributes('mode', 'theme', 'disabled')\n  }\n\n  onResize() {\n    if (this.editor !== undefined) {\n      this.editor.resize(true)\n    }\n  }\n\n  updateValue = async (event: Event) => {\n    // changes to the element will be targted on the custom-element\n    // changes by the user will target the textarea created by ace editor\n    // @ts-expect-error\n    if (event.target !== this && this.editor) {\n      this.value = this.editor.getValue()\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback()\n\n    if (this.value === '') {\n      this.value = this.textContent.trim('\\n')\n    }\n\n    if (this._editorPromise === undefined) {\n      this._editorPromise = makeCodeEditor(\n        this,\n        this.mode,\n        this.options,\n        this.theme\n      )\n      this._editorPromise.then((editor) => {\n        this._editor = editor\n        editor.setValue(this.value, 1)\n      })\n    }\n\n    this.addEventListener('change', this.updateValue)\n  }\n\n  render(): void {\n    super.render()\n\n    if (this.editor !== undefined) {\n      if (this.editor.getValue() !== this.value) {\n        this.editor.setValue(this.value)\n      }\n    }\n    if (this._editorPromise !== undefined) {\n      this._editorPromise.then((editor) => editor.setReadOnly(this.disabled))\n    }\n  }\n}\n\nexport const codeEditor = CodeEditor.elementCreator({ tag: 'code-editor' })\n","import { Component as WebComponent, elements, xin, vars, xinValue } from 'xinjs'\nimport { trackMouse } from './track-mouse'\n\nfunction defaultWidth(\n  array: any[],\n  prop: string,\n  charWidth: number\n): number | boolean {\n  const example = array.find(\n    (item) => item[prop] !== undefined && item[prop] !== null\n  )\n  if (example !== undefined) {\n    const value = example[prop]\n    switch (typeof value) {\n      case 'string':\n        if (value.match(/^\\d+(\\.\\d+)?$/)) {\n          return 6 * charWidth\n        } else if (value.includes(' ')) {\n          return 20 * charWidth\n        } else {\n          return 12 * charWidth\n        }\n      case 'number':\n        return 6 * charWidth\n      case 'boolean':\n        return 5 * charWidth\n      case 'object':\n        return false\n      default:\n        return 8 * charWidth\n    }\n  }\n  return false\n}\n\nconst { div, span, template } = elements\n\ninterface ColumnOptions {\n  name?: string\n  prop: string\n  width: number\n  visible?: boolean\n  align?: string\n  // @ts-expect-error\n  headerCell?: () => HTMLElement\n  // @ts-expect-error\n  dataCell?: () => HTMLElement\n}\n\ninterface TableData {\n  columns?: ColumnOptions[]\n  array: any[]\n  filter?: ArrayFilter\n}\n\ntype ArrayFilter = (array: any[]) => any[]\n\nconst passThru = (array: any[]) => array\n\nclass DataTable extends WebComponent {\n  value: TableData = {\n    array: [],\n  }\n  charWidth = 15\n  rowHeight = 30\n  minColumnWidth = 30\n\n  constructor() {\n    super()\n\n    this.initAttributes('rowHeight', 'charWidth', 'minColumnWidth')\n  }\n\n  get filter(): ArrayFilter {\n    return typeof this.value.filter === 'function'\n      ? this.value.filter\n      : passThru\n  }\n\n  get columns(): ColumnOptions[] {\n    if (!Array.isArray(this.value.columns)) {\n      const { array } = this.value\n      this.value.columns = Object.keys(array[0] || {}).map((prop: string) => {\n        const width = defaultWidth(array, prop, this.charWidth)\n        return {\n          name: prop.replace(/([a-z])([A-Z])/g, '$1 $2').toLocaleLowerCase(),\n          prop,\n          align:\n            typeof array[0][prop] === 'number' ||\n            (array[0][prop] !== '' && !isNaN(array[0][prop]))\n              ? 'right'\n              : 'left',\n          visible: width !== false,\n          width: width ? width : 0,\n        } as ColumnOptions\n      })\n    }\n    return this.value.columns\n  }\n\n  get visibleColumns(): ColumnOptions[] {\n    return this.columns.filter((c) => c.visible !== false)\n  }\n\n  get visibleRecords(): any[] {\n    return xin[this.instanceId] as any[]\n  }\n\n  content = null\n\n  getColumn(event: Event): ColumnOptions | undefined {\n    // @ts-expect-error\n    const x = event.clientX - this.getBoundingClientRect().x\n    let boundaryX = 0\n    const log: any[] = []\n    const column = this.visibleColumns.find((options: ColumnOptions) => {\n      if (options.visible !== false) {\n        boundaryX += options.width\n        log.push(boundaryX)\n        return Math.abs(x - boundaryX) < 5\n      }\n    })\n    return column\n  }\n\n  trackMouse = (event: Event) => {\n    const column = this.getColumn(event)\n    if (column !== undefined) {\n      this.style.cursor = 'col-resize'\n    } else {\n      this.style.cursor = ''\n    }\n  }\n\n  resizeColumn = (event: Event) => {\n    const column = this.getColumn(event)\n    if (column !== undefined) {\n      const origWidth = column.width\n      // @ts-expect-error\n      const origX = event.clientX\n      trackMouse((event: Event) => {\n        // @ts-expect-error\n        const width = event.clientX - origX + origWidth\n        column.width = width > this.minColumnWidth ? width : this.minColumnWidth\n        this.setColumnWidths()\n      }, 'col-resize')\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    this.addEventListener('mousemove', this.trackMouse)\n    this.addEventListener('mousedown', this.resizeColumn)\n  }\n\n  setColumnWidths() {\n    this.style.setProperty(\n      '--grid-columns',\n      this.visibleColumns.map((c) => c.width + 'px').join(' ')\n    )\n  }\n\n  get rowStyle() {\n    return {\n      display: 'grid',\n      gridTemplateColumns: vars.gridColumns,\n      height: this.rowHeight + 'px',\n      lineHeight: this.rowHeight + 'px',\n    }\n  }\n\n  get cellStyle() {\n    return {\n      overflow: 'hidden',\n      whiteSpace: 'nowrap',\n      textOverflow: 'ellipsis',\n    }\n  }\n\n  headerCell = (options: ColumnOptions) =>\n    options.headerCell !== undefined\n      ? options.headerCell()\n      : span(\n          {\n            class: 'th',\n            role: 'columnheader',\n            ariaSort: 'none',\n            style: {\n              ...this.cellStyle,\n              textAlign: options.align || 'left',\n            },\n          },\n          typeof options.name === 'string' ? options.name : options.prop\n        )\n\n  dataCell = (options: ColumnOptions) => {\n    if (options.dataCell !== undefined) {\n      return options.dataCell()\n    }\n    return span({\n      class: 'td',\n      role: 'cell',\n      style: {\n        ...this.cellStyle,\n        textAlign: options.align || 'left',\n      },\n      bindText: `^.${options.prop}`,\n    })\n  }\n\n  render() {\n    super.render()\n\n    xin[this.instanceId] = this.filter(xinValue(this.value.array))\n\n    this.textContent = ''\n\n    this.style.display = 'flex'\n    this.style.flexDirection = 'column'\n    const { visibleColumns } = this\n    this.setColumnWidths()\n    this.append(\n      div(\n        { class: 'thead', role: 'rowgroup' },\n        div(\n          {\n            class: 'tr',\n            role: 'row',\n            style: this.rowStyle,\n          },\n          ...visibleColumns.map(this.headerCell)\n        )\n      ),\n      div(\n        {\n          class: 'tbody',\n          role: 'rowgroup',\n          style: {\n            content: ' ',\n            minHeight: '200px',\n            flex: '1 1 100px',\n            overflow: 'hidden',\n            overflowY: 'scroll',\n          },\n          bindList: {\n            value: this.instanceId,\n            virtual: { height: this.rowHeight },\n          },\n        },\n        template(\n          div(\n            {\n              class: 'tr',\n              role: 'row',\n              style: this.rowStyle,\n            },\n            ...visibleColumns.map(this.dataCell)\n          )\n        )\n      )\n    )\n  }\n}\n\nexport const dataTable = DataTable.elementCreator({ tag: 'data-table' })\n","import { elements } from 'xinjs'\n\ntype TrackerCallback =\n  | ((event: Event) => boolean | undefined)\n  | ((event: Event) => void)\n\nexport const trackMouse = (callback: TrackerCallback, cursor: string): void => {\n  const tracker = elements.div({\n    style: {\n      content: ' ',\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      cursor,\n    },\n  })\n  // @ts-expect-error\n  document.body.append(tracker)\n  tracker.addEventListener('mousemove', (event: Event) => {\n    if (callback(event) === true) {\n      tracker.remove()\n    }\n  })\n  tracker.addEventListener('mouseup', (event: Event) => {\n    callback(event)\n    tracker.remove()\n  })\n}\n","import { Component as WebComponent, elements, debounce } from 'xinjs'\n\nconst { input } = elements\n\ntype ArrayFilter = (array: any[]) => any[]\n\nconst passThru = (array: any[]) => array\nconst NULL_FILTER_DESCRIPTION = 'null filter, everything matches'\n\ntype ObjectTest = (obj: any) => boolean\n\ninterface FilterMaker {\n  hint: string\n  description: (...matches: string[]) => string\n  token: RegExp\n  makeFilter: (...matches: string[]) => ObjectTest\n}\n\nexport const availableFilters: FilterMaker[] = [\n  {\n    hint: 'field=value',\n    description: (field: string, value: string) =>\n      isNaN(Number(value))\n        ? field !== ''\n          ? `${field} is \"${value}\"`\n          : `any field is \"${value}\"`\n        : field !== ''\n        ? `${field} == ${value}`\n        : `any field == ${value}`,\n    token: /^([\\w-_]*)=(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      if (isNaN(Number(value))) {\n        value = String(value).toLocaleLowerCase()\n        if (field !== '') {\n          return (obj: any) => String(obj[field]).toLocaleLowerCase() == value\n        }\n        return (obj: any) =>\n          Object.values(obj).find(\n            (val) => String(val).toLocaleLowerCase() == value\n          ) !== undefined\n      }\n      const num = Number(value)\n      if (field !== '') {\n        return (obj: any) => Number(obj[field]) == num\n      }\n      return (obj: any) => Object.values(obj).find((val) => Number(val) == num)\n    },\n  },\n  {\n    hint: 'field!=value',\n    description: (field: string, value: string) => `${field} ≠ ${value}`,\n    token: /^([\\w-_]+)!=(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      value = value.toLocaleLowerCase()\n      return (obj: any) => String(obj[field]).toLocaleLowerCase() != value\n    },\n  },\n  {\n    hint: 'field>value',\n    description: (field: string, value: string) =>\n      isNaN(Number(value))\n        ? `${field} > ${value} (A-Z)`\n        : `${field} > ${value}`,\n    token: /^([\\w-_]+)>(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      if (!isNaN(Number(value))) {\n        const num = Number(value)\n        return (obj: any) => Number(obj[field]) > num\n      }\n      value = value.toLocaleLowerCase()\n      return (obj: any) => String(obj[field]).toLocaleLowerCase() > value\n    },\n  },\n  {\n    hint: 'field<value',\n    description: (field: string, value: string) =>\n      isNaN(Number(value))\n        ? `${field} < ${value} (A-Z)`\n        : `${field} < ${value}`,\n    token: /^([\\w-_]+)<(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      if (!isNaN(Number(value))) {\n        const num = Number(value)\n        return (obj: any) => Number(obj[field]) < num\n      }\n      value = value.toLocaleLowerCase()\n      return (obj: any) => String(obj[field]).toLocaleLowerCase() < value\n    },\n  },\n  {\n    hint: 'field:value',\n    description: (field: string, value: string) => `${field} contains ${value}`,\n    token: /^([\\w-_]+):(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      value = value.toLocaleLowerCase()\n      return (obj: any) => obj[field].toLocaleLowerCase().includes(value)\n    },\n  },\n  {\n    hint: '!!field',\n    description: (match: string) => `${match} is truthy`,\n    token: /^!!([\\w-_]+)$/,\n    makeFilter: (match: string) => (obj: any) => !!obj[match],\n  },\n  {\n    hint: '!field',\n    description: (match: string) => `${match} is falsy`,\n    token: /^!([\\w-_]+)$/,\n    makeFilter: (match: string) => (obj: any) => !obj[match],\n  },\n  {\n    hint: 'value',\n    description: (match: string) => `\"${match}\" in any property`,\n    token: /^(.+)$/,\n    makeFilter: (match: string) => (obj: any) =>\n      Object.values(obj).find((value) =>\n        String(value).toLocaleLowerCase().includes(match)\n      ) !== undefined,\n  },\n]\n\ninterface Filter {\n  description: string\n  test: ObjectTest\n}\n\nexport function getFilter(\n  term: string,\n  filters = availableFilters\n): Filter | undefined {\n  const maker = filters.find((filter: FilterMaker) => filter.token.test(term))\n  if (maker !== undefined) {\n    // we know it will match\n    const [, ...terms] = term.match(maker.token)!\n    return {\n      description: maker.description(...terms),\n      test: maker.makeFilter(...terms),\n    }\n  }\n}\n\nclass FilterBuilder extends WebComponent {\n  value = ''\n  filter: ArrayFilter = passThru\n  title = NULL_FILTER_DESCRIPTION\n  content = input({\n    style: {\n      width: '100%',\n      height: 'auto',\n    },\n  })\n  placeholder = ''\n\n  filters = availableFilters\n\n  constructor() {\n    super()\n    this.initAttributes('title', 'placeholder')\n  }\n\n  buildFilter = debounce((query: string): void => {\n    // @ts-expect-error\n    const filters: Filter[] = query\n      .split(/\\s+/)\n      .filter((part) => part !== '')\n      .map((part) => getFilter(part, this.filters))\n      .filter((part) => part !== undefined) // because we remove undefined\n\n    if (filters.length === 0) {\n      this.title = NULL_FILTER_DESCRIPTION\n      if (this.filter !== passThru) {\n        this.filter = passThru\n        this.dispatchEvent(new Event('change'))\n      }\n    } else {\n      this.filter = filters.reduce(\n        (f: false | ArrayFilter, filter: Filter): ArrayFilter => {\n          let g: ArrayFilter\n          if (f === false) {\n            g = (array: any[]) => array.filter(filter.test)\n          } else {\n            g = (array: any[]) => f(array.filter(filter.test))\n          }\n          return g\n        },\n        false\n      ) as ArrayFilter // because this array is not empty\n\n      this.title = filters.map((f) => f.description).join(', and ')\n      this.dispatchEvent(new Event('change'))\n    }\n  }, 500)\n\n  reset() {\n    if (this.filter !== passThru) {\n      this.title = NULL_FILTER_DESCRIPTION\n      this.filter = passThru\n      this.dispatchEvent(new Event('change'))\n    }\n  }\n\n  handleInput = (event: Event) => {\n    const { input } = this.refs\n    this.buildFilter(input.value)\n    this.value = input.value\n    event.stopPropagation()\n    event.preventDefault()\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    this.setAttribute('title', this.title)\n\n    const { input } = this.refs\n    input.value = this.value\n    input.addEventListener('input', this.handleInput)\n    input.addEventListener('change', this.handleInput)\n    this.style.position = 'relative'\n  }\n\n  render() {\n    super.render()\n    const { input } = this.refs\n    input.placeholder =\n      this.placeholder !== ''\n        ? this.placeholder\n        : this.filters.map((filter) => filter.hint).join(' ')\n    input.value = this.value\n  }\n}\n\nexport const filterBuilder = FilterBuilder.elementCreator({\n  tag: 'filter-builder',\n})\n","import { Component as WebComponent, elements } from 'xinjs'\nimport { styleSheet, scriptTag } from './via-tag'\n\nexport const MAPSTYLES = [\n  {\n    name: 'streets',\n    url: 'mapbox://styles/mapbox/streets-v10',\n  },\n  {\n    name: 'outdoors',\n    url: 'mapbox://styles/mapbox/outdoors-v10',\n  },\n  {\n    name: 'light',\n    url: 'mapbox://styles/mapbox/light-v9',\n  },\n  {\n    name: 'dark',\n    url: 'mapbox://styles/mapbox/dark-v9',\n  },\n  {\n    name: 'satellite',\n    url: 'mapbox://styles/mapbox/satellite-v9',\n  },\n  {\n    name: 'sateliite + streets',\n    url: 'mapbox://styles/mapbox/satellite-streets-v10',\n  },\n  {\n    name: 'preview day',\n    url: 'mapbox://styles/mapbox/navigation-preview-day-v2',\n  },\n  {\n    name: 'preview night',\n    url: 'mapbox://styles/mapbox/navigation-preview-night-v2',\n  },\n  {\n    name: 'guidance day',\n    url: 'mapbox://styles/mapbox/navigation-guidance-day-v2',\n  },\n  {\n    name: 'guidance night',\n    url: 'mapbox://styles/mapbox/navigation-guidance-night-v2',\n  },\n]\n\nconst { div } = elements\n\nclass MapBox extends WebComponent {\n  coords = '65.01715565258993,25.48081004203459,12'\n  content = div({ style: { width: '100%', height: '100%' } })\n  get map(): any {\n    return this._map\n  }\n  mapStyle = MAPSTYLES[0]\n  token = ''\n\n  static mapboxCSSAvailable: Promise<void>\n  static mapboxAvailable?: Promise<any>\n\n  private _map: any\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'inline-block',\n      position: 'relative',\n      width: '400px',\n      height: '400px',\n      textAlign: 'left',\n    },\n  })\n\n  constructor() {\n    super()\n    this.initAttributes('coords', 'token', 'mapStyle')\n\n    if (MapBox.mapboxCSSAvailable === undefined) {\n      MapBox.mapboxCSSAvailable = styleSheet(\n        'https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css'\n      ).catch((e) => {\n        console.error('failed to load mapbox-gl.css', e)\n      })\n      MapBox.mapboxAvailable = scriptTag(\n        'https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'\n      ).catch((e) => {\n        console.error('failed to load mapbox-gl.js', e)\n      })\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    if (!this.token) {\n      console.error(\n        'mapbox requires an access token which you can provide via the token attribute'\n      )\n    }\n  }\n\n  render(): void {\n    super.render()\n\n    if (!this.token) {\n      return\n    }\n\n    const { div } = this.refs\n\n    const [long, lat, zoom] = this.coords.split(',').map((x) => Number(x))\n\n    if (this.map) {\n      this.map.remove()\n    }\n\n    MapBox.mapboxAvailable!.then(({ mapboxgl }: { mapboxgl: any }) => {\n      console.log(\n        '%cmapbox may complain about missing css because it is loaded async on demand',\n        'background: orange; color: black; padding: 0 5px;'\n      )\n      mapboxgl.accessToken = this.token\n      this._map = new mapboxgl.Map({\n        container: div,\n        style: this.mapStyle.url,\n        zoom,\n        center: [lat, long],\n      })\n\n      this._map.on('render', () => this._map.resize())\n    })\n  }\n}\n\nexport const mapBox = MapBox.elementCreator({ tag: 'map-box' })\n","import { Component } from 'xinjs'\nimport { marked } from 'marked'\n\nclass MarkdownViewer extends Component {\n  src = ''\n  value = ''\n  constructor() {\n    super()\n    this.initAttributes('src')\n  }\n  connectedCallback(): void {\n    super.connectedCallback()\n    if (this.src !== '') {\n      ;(async () => {\n        const request = await fetch(this.src)\n        this.value = await request.text()\n      })()\n    } else if (this.value === '') {\n      this.value = this.textContent != null ? this.textContent : ''\n    }\n  }\n  render() {\n    super.render()\n    this.innerHTML = marked(this.value, { mangle: false, headerIds: false })\n  }\n}\n\nexport const markdownViewer = MarkdownViewer.elementCreator()\n","import { Component as WebComponent, elements, vars } from 'xinjs'\n\nconst { slot } = elements\n\nclass SizeBreak extends WebComponent {\n  minWidth = 0\n  minHeight = 0\n  value: 'normal' | 'small' = 'normal'\n\n  content = [\n    slot({ dataRef: 'normal' }),\n    slot({ dataRef: 'small', name: 'small' }),\n  ]\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      position: 'relative',\n    },\n  })\n\n  constructor() {\n    super()\n    this.initAttributes('minWidth', 'minHeight')\n  }\n\n  onResize = () => {\n    const { normal, small } = this.refs\n    if (\n      this.offsetParent.offsetWidth < this.minWidth ||\n      this.offsetParent.offsetHeight < this.minHeight\n    ) {\n      normal.hidden = true\n      small.hidden = false\n      this.value = 'small'\n    } else {\n      normal.hidden = false\n      small.hidden = true\n      this.value = 'normal'\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    globalThis.addEventListener('resize', this.onResize)\n  }\n\n  disconnectedCallback(): void {\n    super.disconnectedCallback()\n    globalThis.removeEventListener('resize', this.onResize)\n  }\n}\n\nexport const sizeBreak = SizeBreak.elementCreator({ tag: 'size-break' })\n","import { Component as WebComponent, elements, vars } from 'xinjs'\n\nconst { div, slot } = elements\n\nclass TabSelector extends WebComponent {\n  value = 0\n\n  role = 'tabpanel'\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative',\n      overflow: 'hidden',\n    },\n    slot: {\n      position: 'relative',\n      display: 'block',\n      flex: '1 1 auto',\n      overflow: 'hidden',\n      overflowY: 'auto',\n    },\n    '::slotted([hidden])': {\n      // @ts-expect-error\n      display: 'none !important',\n    },\n    ':host .tab-holder': {\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    ':host .tabs': {\n      display: 'flex',\n      userSelect: 'none',\n      whiteSpace: 'nowrap',\n    },\n    ':host .tabs > div': {\n      padding: `${vars.spacing50} ${vars.spacing}`,\n      cursor: 'default',\n    },\n    ':host .tabs > [aria-selected=\"true\"]': {\n      color: vars.tabSelectorSelectedColor,\n    },\n    ':host .border': {\n      background: 'var(--tab-selector-bar-color, #ccc)',\n    },\n    ':host .border > .selected': {\n      content: ' ',\n      width: 0,\n      height: 'var(--tab-selector-bar-height, 2px)',\n      background: vars.tabSelectorSelectedColor,\n      transition: 'ease-out 0.2s',\n    },\n  })\n\n  content = [\n    div(\n      { class: 'tab-holder' },\n      div({ class: 'tabs', dataRef: 'tabs' }),\n      div({ class: 'border' }, div({ class: 'selected', dataRef: 'selected' }))\n    ),\n    slot(),\n  ]\n\n  constructor() {\n    super()\n    this.initAttributes('anne', 'example')\n  }\n\n  // @ts-expect-error\n  addTabBody(body: HTMLElement, selectTab = false): void {\n    if (!body.hasAttribute('name')) {\n      throw new Error('element has no name attribute', body)\n    }\n    this.shadowRoot.append(body)\n    this.setupTabs()\n    if (selectTab) {\n      this.value = this.bodies.length - 1\n    }\n    this.queueRender()\n  }\n\n  // @ts-expect-error\n  keyTab = (event: KeyboardEvent): void => {\n    const { tabs } = this.refs\n    // @ts-expect-error\n    const tabIndex = [...tabs.children].indexOf(event.target as HTMLElement)\n    switch (event.key) {\n      case 'ArrowLeft':\n        this.value =\n          (tabIndex + Number(tabs.children.length) - 1) % tabs.children.length\n        // @ts-expect-error\n        ;(tabs.children[this.value] as HTMLElement).focus()\n        event.preventDefault()\n        break\n      case 'ArrowRight':\n        this.value = (tabIndex + 1) % tabs.children.length\n        // @ts-expect-error\n        ;(tabs.children[this.value] as HTMLElement).focus()\n        event.preventDefault()\n        break\n      case ' ':\n        this.pickTab(event)\n        event.preventDefault()\n        break\n      default:\n      // console.log(event.key)\n    }\n  }\n\n  // @ts-expect-error\n  get bodies(): HTMLElement[] {\n    return [...this.children].filter((elt) => elt.hasAttribute('name'))\n  }\n\n  pickTab = (event: Event): void => {\n    const { tabs } = this.refs\n    // @ts-expect-error\n    const target = event.target as HTMLElement\n    const tabIndex = [...tabs.children].indexOf(target)\n    if (tabIndex > -1) {\n      this.value = tabIndex\n    }\n  }\n\n  setupTabs = (): void => {\n    const { tabs } = this.refs\n    const tabBodies = [...this.querySelectorAll('[name]')]\n    tabs.textContent = ''\n    for (const index in tabBodies) {\n      const tabBody = tabBodies[index]\n      const name = tabBody.getAttribute('name') as string\n      const bodyId = `${this.instanceId}-${index}`\n      tabBody.id = bodyId\n      tabs.append(div(name, { tabindex: 0, role: 'tab', ariaControls: bodyId }))\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    const { tabs } = this.refs\n    tabs.addEventListener('click', this.pickTab)\n    tabs.addEventListener('keydown', this.keyTab)\n    this.setupTabs()\n  }\n\n  render(): void {\n    const { tabs, selected } = this.refs\n    const tabBodies = this.bodies\n    for (let i = 0; i < tabBodies.length; i++) {\n      const tabBody = tabBodies[i]\n      // @ts-expect-error\n      const tab = tabs.children[i] as HTMLElement\n      if (this.value === Number(i)) {\n        tab.setAttribute('aria-selected', true)\n        selected.style.marginLeft = `${tab.offsetLeft - tabs.offsetLeft}px`\n        selected.style.width = `${tab.offsetWidth}px`\n        tabBody.removeAttribute('hidden')\n      } else {\n        tab.removeAttribute('aria-selected')\n        tabBody.setAttribute('hidden', '')\n      }\n    }\n  }\n}\n\nexport const tabSelector = TabSelector.elementCreator({ tag: 'tab-selector' })\n"],"names":[],"version":3,"file":"index.js.map"}
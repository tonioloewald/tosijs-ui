{"mappings":"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","sources":["src/index.ts","src/bodymovin-player.ts","src/via-tag.ts","src/data-table.ts","src/track-mouse.ts","src/filter-builder.ts","src/mapbox.ts","src/markdown-viewer.ts","src/tab-selector.ts"],"sourcesContent":["export { bodymovinPlayer } from './bodymovin-player'\nexport { dataTable } from './data-table'\nexport { filterBuilder } from './filter-builder'\nexport { mapBox } from './mapbox'\nexport { markdownViewer } from './markdown-viewer'\nexport { tabSelector } from './tab-selector'\nexport { trackMouse } from './track-mouse'\nexport { scriptTag, styleSheet } from './via-tag'\n","// https://lottiefiles.github.io/lottie-docs/advanced_interactions/\n\nimport { Component as WebComponent, elements } from 'xinjs'\nimport { scriptTag } from './via-tag'\n\ninterface LottieConfig {\n  container?: HTMLElement\n  renderer: 'svg' | 'cancas' | 'html'\n  loop: boolean\n  autoplay: boolean\n  animationData?: string\n  path?: string\n  [key: string]: any\n}\n\nclass BodymovinPlayer extends WebComponent {\n  content = null\n  src = ''\n  json = ''\n  config: LottieConfig = {\n    renderer: 'svg',\n    loop: true,\n    autoplay: true,\n  }\n\n  static bodymovinAvailable?: Promise<void>\n\n  animation: any\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      width: 400,\n      height: 400,\n      display: 'inline-block',\n    },\n  })\n\n  private _loading = false\n\n  get loading(): boolean {\n    return this._loading\n  }\n\n  constructor() {\n    super()\n    this.initAttributes('src', 'json')\n    if (BodymovinPlayer.bodymovinAvailable === undefined) {\n      // @ts-expect-error\n      BodymovinPlayer.bodymovinAvailable =\n        globalThis.bodymovinPlayer === undefined\n          ? scriptTag(\n              'https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js'\n            )\n          : Promise.resolve()\n      console.log(BodymovinPlayer.bodymovinAvailable)\n    }\n  }\n\n  private readonly doneLoading = (): void => {\n    this._loading = false\n  }\n\n  private readonly load = (): void => {\n    this._loading = true\n\n    this.config.container = this.shadowRoot\n    if (this.json !== '') {\n      this.config.animationData = this.json\n      delete this.config.path\n    } else if (this.src !== '') {\n      delete this.config.animationData\n      this.config.path = this.src\n    } else {\n      console.log(\n        '%c<bodymovin-player>%c expected either %cjson%c (animation data) or %csrc% c(url) but found neither.',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default'\n      )\n    }\n\n    if (this.animation) {\n      this.animation.destroy()\n      this.shadowRoot.querySelector('svg').remove()\n    }\n    // @ts-expect-error\n    this.animation = globalThis.bodymovin.loadAnimation(this.config)\n    this.animation.addEventListener('DOMLoaded', this.doneLoading)\n  }\n\n  render(): void {\n    super.render()\n\n    BodymovinPlayer.bodymovinAvailable!.then(this.load).catch(\n      (e: string): void => {\n        console.error(e)\n      }\n    )\n  }\n}\n\nexport const bodymovinPlayer = BodymovinPlayer.elementCreator({\n  tag: 'bodymovin-player',\n})\n","import { elements } from 'xinjs'\n\ninterface PromiseMap {\n  [key: string]: Promise<void>\n}\n\nconst loadedScripts: PromiseMap = {}\nexport function scriptTag(src: string): Promise<void> {\n  if (loadedScripts[src] === undefined) {\n    const scriptElt = elements.script({ src })\n\n    // @ts-expect-error\n    document.head.append(scriptElt)\n\n    loadedScripts[src] = new Promise((resolve) => {\n      scriptElt.onload = resolve\n    })\n  }\n\n  return loadedScripts[src]\n}\n\nconst loadedStyleSheets: PromiseMap = {}\nexport function styleSheet(href: string): Promise<void> {\n  if (loadedStyleSheets[href] === undefined) {\n    const linkElement = elements.link({\n      rel: 'stylesheet',\n      type: 'text/css',\n      href,\n    })\n\n    // @ts-expect-error\n    document.head.append(linkElement)\n\n    loadedStyleSheets[href] = new Promise((resolve) => {\n      linkElement.onload = resolve\n    })\n  }\n  return loadedStyleSheets[href]\n}\n","import { Component as WebComponent, elements, xin, vars, xinValue } from 'xinjs'\nimport { trackMouse } from './track-mouse'\n\nfunction defaultWidth(\n  array: any[],\n  prop: string,\n  charWidth: number\n): number | boolean {\n  const example = array.find(\n    (item) => item[prop] !== undefined && item[prop] !== null\n  )\n  if (example !== undefined) {\n    const value = example[prop]\n    switch (typeof value) {\n      case 'string':\n        if (value.match(/^\\d+(\\.\\d+)?$/)) {\n          return 6 * charWidth\n        } else if (value.includes(' ')) {\n          return 20 * charWidth\n        } else {\n          return 12 * charWidth\n        }\n      case 'number':\n        return 6 * charWidth\n      case 'boolean':\n        return 5 * charWidth\n      case 'object':\n        return false\n      default:\n        return 8 * charWidth\n    }\n  }\n  return false\n}\n\nconst { div, span, template } = elements\n\ninterface ColumnOptions {\n  name?: string\n  prop: string\n  width: number\n  visible?: boolean\n  sortable?: boolean\n}\n\ninterface TableData {\n  columns?: ColumnOptions[]\n  array: any[]\n  filteredArray: any[]\n  filter?: ArrayFilter\n}\n\ntype ArrayFilter = (array: any[]) => any[]\n\nconst passThru = (array: any[]) => array\n\nclass DataTable extends WebComponent {\n  value: TableData = {\n    array: [],\n    filteredArray: [],\n  }\n  charWidth = 15\n  rowHeight = 30\n  minColumnWidth = 30\n\n  constructor() {\n    super()\n  }\n\n  get filter(): ArrayFilter {\n    return typeof this.value.filter === 'function'\n      ? this.value.filter\n      : passThru\n  }\n\n  get columns(): ColumnOptions[] {\n    if (!Array.isArray(this.value.columns)) {\n      const { array } = this.value\n      this.value.columns = Object.keys(array[0] || {}).map((prop: string) => {\n        const width = defaultWidth(array, prop, this.charWidth)\n        return {\n          name: prop.replace(/([a-z])([A-Z])/g, '$1 $2').toLocaleLowerCase(),\n          prop,\n          visible: width !== false,\n          width: width ? width : 0,\n        } as ColumnOptions\n      })\n    }\n    return this.value.columns\n  }\n\n  get visibleColumns(): ColumnOptions[] {\n    return this.columns.filter((c) => c.visible !== false)\n  }\n\n  content = null\n\n  getColumn(event: Event): ColumnOptions | undefined {\n    // @ts-expect-error\n    const x = event.clientX - this.getBoundingClientRect().x\n    let boundaryX = 0\n    const log: any[] = []\n    const column = this.visibleColumns.find((options: ColumnOptions) => {\n      if (options.visible !== false) {\n        boundaryX += options.width\n        log.push(boundaryX)\n        return Math.abs(x - boundaryX) < 5\n      }\n    })\n    return column\n  }\n\n  trackMouse = (event: Event) => {\n    const column = this.getColumn(event)\n    if (column !== undefined) {\n      this.style.cursor = 'col-resize'\n    } else {\n      this.style.cursor = ''\n    }\n  }\n\n  resizeColumn = (event: Event) => {\n    const column = this.getColumn(event)\n    if (column !== undefined) {\n      const origWidth = column.width\n      // @ts-expect-error\n      const origX = event.clientX\n      trackMouse((event: Event) => {\n        // @ts-expect-error\n        const width = event.clientX - origX + origWidth\n        column.width = width > this.minColumnWidth ? width : this.minColumnWidth\n        this.setColumnWidths()\n      }, 'col-resize')\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    this.addEventListener('mousemove', this.trackMouse)\n    this.addEventListener('mousedown', this.resizeColumn)\n  }\n\n  setColumnWidths() {\n    this.style.setProperty(\n      '--grid-columns',\n      this.visibleColumns.map((c) => c.width + 'px').join(' ')\n    )\n  }\n\n  render() {\n    super.render()\n\n    xin[this.instanceId] = this.filter(xinValue(this.value.array))\n\n    this.textContent = ''\n\n    this.style.display = 'flex'\n    this.style.flexDirection = 'column'\n    const { visibleColumns } = this\n    this.setColumnWidths()\n    const rowStyle = {\n      display: 'grid',\n      gridTemplateColumns: vars.gridColumns,\n      height: this.rowHeight + 'px',\n    }\n    const cellStyle = {\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap',\n    }\n    const sorterStyle = {\n      display: 'inline-block',\n      minWidth: vars.charWidth,\n      cursor: 'default',\n    }\n    this.append(\n      div(\n        { class: 'thead' },\n        div(\n          {\n            class: 'tr',\n            style: rowStyle,\n          },\n          ...visibleColumns.map((c) =>\n            span(\n              { class: 'th', style: cellStyle },\n              c.name,\n              c.sortable !== false\n                ? span({ class: 't-sorter', style: sorterStyle })\n                : undefined\n            )\n          )\n        )\n      ),\n      div(\n        {\n          class: 'tbody',\n          style: {\n            content: ' ',\n            minHeight: '200px',\n            flex: '1 1 100px',\n            overflow: 'hidden',\n            overflowY: 'scroll',\n          },\n          bindList: {\n            value: this.instanceId,\n            virtual: { height: this.rowHeight },\n          },\n        },\n        template(\n          div(\n            {\n              class: 'tr',\n              style: rowStyle,\n            },\n            ...visibleColumns.map((options: ColumnOptions) =>\n              span({\n                class: 'td',\n                style: cellStyle,\n                bindText: `^.${options.prop}`,\n              })\n            )\n          )\n        )\n      )\n    )\n  }\n}\n\nexport const dataTable = DataTable.elementCreator({ tag: 'data-table' })\n","import { elements } from 'xinjs'\n\ntype TrackerCallback =\n  | ((event: Event) => boolean | undefined)\n  | ((event: Event) => void)\n\nexport const trackMouse = (callback: TrackerCallback, cursor: string): void => {\n  const tracker = elements.div({\n    style: {\n      content: ' ',\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      cursor,\n    },\n  })\n  // @ts-expect-error\n  document.body.append(tracker)\n  tracker.addEventListener('mousemove', (event: Event) => {\n    if (callback(event) === true) {\n      tracker.remove()\n    }\n  })\n  tracker.addEventListener('mouseup', (event: Event) => {\n    callback(event)\n    tracker.remove()\n  })\n}\n","import { Component as WebComponent, elements, debounce } from 'xinjs'\n\nconst { input } = elements\n\ntype ArrayFilter = (array: any[]) => any[]\n\nconst passThru = (array: any[]) => array\nconst NULL_FILTER_DESCRIPTION = 'null filter, everything matches'\n\nclass FilterBuilder extends WebComponent {\n  value = ''\n  filter: ArrayFilter = passThru\n  title = NULL_FILTER_DESCRIPTION\n  content = input({\n    style: {\n      width: '100%',\n      height: '100%',\n    },\n    placeholder: 'needle name:foo !isFalse isTrue! lat:>0',\n  })\n\n  constructor() {\n    super()\n    this.initAttributes('title')\n  }\n\n  buildFilter = debounce((query: string): void => {\n    const descriptions: string[] = []\n    const filters = query\n      .split(/\\s+/)\n      .filter((part) => part !== '')\n      .map((part) => {\n        if (part.startsWith('!')) {\n          const haystack = part.slice(1)\n          descriptions.push(`\"${haystack}\" is truthy`)\n          return (obj: any) => !obj[haystack]\n        } else if (part.endsWith('!')) {\n          const haystack = part.slice(0, part.length - 1)\n          descriptions.push(`\"${haystack}\" is falsy`)\n          return (obj: any) => !!obj[haystack]\n        } else if (part.includes(':')) {\n          let [haystack, needle] = part.split(':')\n          if (needle.startsWith('<')) {\n            descriptions.push(`\"${needle}\" < \"${haystack}\"`)\n            needle = needle.slice(1)\n            return (obj: any) => obj[haystack] && obj[haystack] < needle\n          } else if (needle.startsWith('>')) {\n            needle = needle.slice(1)\n            descriptions.push(`\"${needle}\" > \"${haystack}\"`)\n            return (obj: any) => obj[haystack] && obj[haystack] > needle\n          } else {\n            needle = needle.toLocaleLowerCase()\n            descriptions.push(`\"${needle}\" in \"${haystack}\"`)\n            return (obj: any) => {\n              return (\n                obj[haystack] &&\n                String(obj[haystack]).toLocaleLowerCase().includes(needle)\n              )\n            }\n          }\n        } else {\n          const needle = part.toLocaleLowerCase()\n          descriptions.push(`\"${needle}\" anywhere`)\n          return (obj: any) =>\n            Object.keys(obj).find((key) => {\n              return String(obj[key]).toLocaleLowerCase().includes(needle)\n            })\n        }\n      })\n\n    let filter: ArrayFilter\n    let title: string\n    if (filters.length === 0) {\n      title = NULL_FILTER_DESCRIPTION\n      filter = passThru\n    } else {\n      title = descriptions.join(', and ')\n      filter = (array: any[]): any[] =>\n        array.filter((obj) => {\n          if (obj === null || typeof obj !== 'object') {\n            return false\n          } else {\n            return filters.find((filter) => !filter(obj)) === undefined\n          }\n        })\n    }\n\n    if (this.filter !== filter) {\n      this.title = title\n      this.filter = filter\n      this.dispatchEvent(new Event('change'))\n    }\n  })\n\n  reset() {\n    if (this.filter !== passThru) {\n      this.title = NULL_FILTER_DESCRIPTION\n      this.filter = passThru\n      this.dispatchEvent(new Event('change'))\n    }\n  }\n\n  handleInput = (event: Event) => {\n    const { input } = this.refs\n    this.buildFilter(input.value)\n    this.value = input.value\n    event.stopPropagation()\n    event.preventDefault()\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    const { input } = this.refs\n    input.value = this.value\n    input.addEventListener('input', this.handleInput)\n    input.addEventListener('change', this.handleInput)\n    this.style.position = 'relative'\n  }\n\n  render() {\n    super.render()\n    const { input } = this.refs\n    input.value = this.value\n  }\n}\n\nexport const filterBuilder = FilterBuilder.elementCreator({\n  tag: 'filter-builder',\n})\n","import { Component as WebComponent, elements } from 'xinjs'\nimport { styleSheet, scriptTag } from './via-tag'\n\nexport const MAPSTYLES = [\n  {\n    name: 'streets',\n    url: 'mapbox://styles/mapbox/streets-v10',\n  },\n  {\n    name: 'outdoors',\n    url: 'mapbox://styles/mapbox/outdoors-v10',\n  },\n  {\n    name: 'light',\n    url: 'mapbox://styles/mapbox/light-v9',\n  },\n  {\n    name: 'dark',\n    url: 'mapbox://styles/mapbox/dark-v9',\n  },\n  {\n    name: 'satellite',\n    url: 'mapbox://styles/mapbox/satellite-v9',\n  },\n  {\n    name: 'sateliite + streets',\n    url: 'mapbox://styles/mapbox/satellite-streets-v10',\n  },\n  {\n    name: 'preview day',\n    url: 'mapbox://styles/mapbox/navigation-preview-day-v2',\n  },\n  {\n    name: 'preview night',\n    url: 'mapbox://styles/mapbox/navigation-preview-night-v2',\n  },\n  {\n    name: 'guidance day',\n    url: 'mapbox://styles/mapbox/navigation-guidance-day-v2',\n  },\n  {\n    name: 'guidance night',\n    url: 'mapbox://styles/mapbox/navigation-guidance-night-v2',\n  },\n]\n\nconst { div } = elements\n\nclass MapBox extends WebComponent {\n  coords = '65.01715565258993,25.48081004203459,12'\n  content = div({ style: { width: '100%', height: '100%' } })\n  get map(): any {\n    return this._map\n  }\n  mapStyle = MAPSTYLES[0]\n  token = ''\n\n  static mapboxCSSAvailable: Promise<void>\n  static mapboxAvailable?: Promise<void>\n\n  private _map: any\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'inline-block',\n      position: 'relative',\n      width: '400px',\n      height: '400px',\n      textAlign: 'left',\n    },\n  })\n\n  constructor() {\n    super()\n    this.initAttributes('coords', 'token', 'mapStyle')\n\n    if (MapBox.mapboxCSSAvailable === undefined) {\n      MapBox.mapboxCSSAvailable = styleSheet(\n        'https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css'\n      ).catch((e) => {\n        console.error('failed to load mapbox-gl.css', e)\n      })\n      MapBox.mapboxAvailable = scriptTag(\n        'https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'\n      ).catch((e) => {\n        console.error('failed to load mapbox-gl.js', e)\n      })\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    if (!this.token) {\n      console.error(\n        'mapbox requires an access token which you can provide via the token attribute'\n      )\n    }\n  }\n\n  render(): void {\n    super.render()\n\n    if (!this.token) {\n      return\n    }\n\n    const { div } = this.refs\n\n    const [long, lat, zoom] = this.coords.split(',').map((x) => Number(x))\n\n    MapBox.mapboxAvailable!.then(() => {\n      // @ts-expect-error\n      globalThis.mapboxgl.accessToken = this.token\n      // @ts-expect-error\n      this._map = new globalThis.mapboxgl.Map({\n        container: div,\n        style: this.mapStyle.url,\n        zoom,\n        center: [lat, long],\n      })\n\n      this._map.on('render', () => this._map.resize())\n    })\n  }\n}\n\nexport const mapBox = MapBox.elementCreator({ tag: 'map-box' })\n","import { Component } from 'xinjs'\nimport { marked } from 'marked'\n\nclass MarkdownViewer extends Component {\n  src = ''\n  value = ''\n  constructor() {\n    super()\n    this.initAttributes('src')\n  }\n  connectedCallback(): void {\n    super.connectedCallback()\n    if (this.src !== '') {\n      ;(async () => {\n        const request = await fetch(this.src)\n        this.value = await request.text()\n      })()\n    } else if (this.value === '') {\n      this.value = this.textContent != null ? this.textContent : ''\n    }\n  }\n  render() {\n    super.render()\n    this.innerHTML = marked(this.value)\n  }\n}\n\nexport const markdownViewer = MarkdownViewer.elementCreator()\n","import { Component as WebComponent, elements, vars } from 'xinjs'\n\nconst { div, slot } = elements\n\nclass TabSelector extends WebComponent {\n  value = 0\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative',\n      overflow: 'hidden',\n    },\n    slot: {\n      position: 'relative',\n      display: 'block',\n      flex: '1 1 auto',\n      overflow: 'hidden',\n      overflowY: 'auto',\n    },\n    '::slotted([hidden])': {\n      // @ts-expect-error\n      display: 'none !important',\n    },\n    ':host .tab-holder': {\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    ':host .tabs': {\n      display: 'flex',\n      userSelect: 'none',\n    },\n    ':host .tabs > div': {\n      padding: `${vars.spacing50} ${vars.spacing}`,\n      cursor: 'default',\n    },\n    ':host .tabs > .selected': {\n      color: vars.tabSelectorSelectedColor,\n    },\n    ':host .border': {\n      background: 'var(--tab-selector-bar-color, #ccc)',\n    },\n    ':host .border > .selected': {\n      content: ' ',\n      width: 0,\n      height: 'var(--tab-selector-bar-height, 2px)',\n      background: vars.tabSelectorSelectedColor,\n      transition: 'ease-out 0.2s',\n    },\n  })\n\n  content = [\n    div(\n      { class: 'tab-holder' },\n      div({ class: 'tabs', dataRef: 'tabs' }),\n      div({ class: 'border' }, div({ class: 'selected', dataRef: 'selected' }))\n    ),\n    slot(),\n  ]\n\n  constructor() {\n    super()\n    this.initAttributes('anne', 'example')\n  }\n\n  addTabBody(body: HTMLElement, selectTab = false): void {\n    if (!body.hasAttribute('name')) {\n      throw new Error('element has no name attribute', body)\n    }\n    this.shadowRoot.append(body)\n    this.setupTabs()\n    if (selectTab) {\n      this.value = this.bodies.length - 1\n    }\n    this.queueRender()\n  }\n\n  // @ts-expect-error\n  keyTab = (event: KeyboardEvent): void => {\n    const { tabs } = this.refs\n    const tabIndex = [...tabs.children].indexOf(event.target as HTMLElement)\n    switch (event.key) {\n      case 'ArrowLeft':\n        this.value =\n          (tabIndex + Number(tabs.children.length) - 1) % tabs.children.length\n        ;(tabs.children[this.value] as HTMLElement).focus()\n        event.preventDefault()\n        break\n      case 'ArrowRight':\n        this.value = (tabIndex + 1) % tabs.children.length\n        ;(tabs.children[this.value] as HTMLElement).focus()\n        event.preventDefault()\n        break\n      case ' ':\n        this.pickTab(event)\n        event.preventDefault()\n        break\n      default:\n      // console.log(event.key)\n    }\n  }\n\n  get bodies(): HTMLElement[] {\n    return [...this.children].filter((elt) => elt.hasAttribute('name'))\n  }\n\n  pickTab = (event: Event): void => {\n    const { tabs } = this.refs\n    // @ts-expect-error\n    const target = event.target as HTMLElement\n    const tabIndex = [...tabs.children].indexOf(target)\n    if (tabIndex > -1) {\n      this.value = tabIndex\n    }\n  }\n\n  setupTabs = (): void => {\n    const { tabs } = this.refs\n    const tabBodies = [...this.querySelectorAll('[name]')]\n    tabs.textContent = ''\n    for (const tabBody of tabBodies) {\n      tabs.append(div(tabBody.getAttribute('name') as string, { tabindex: 0 }))\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    const { tabs } = this.refs\n    tabs.addEventListener('click', this.pickTab)\n    tabs.addEventListener('keydown', this.keyTab)\n    this.setupTabs()\n  }\n\n  render(): void {\n    const { tabs, selected } = this.refs\n    const tabBodies = this.bodies\n    for (let i = 0; i < tabBodies.length; i++) {\n      const tabBody = tabBodies[i]\n      const tab = tabs.children[i] as HTMLElement\n      if (this.value === Number(i)) {\n        tab.classList.add('selected')\n        selected.style.marginLeft = `${tab.offsetLeft - tabs.offsetLeft}px`\n        selected.style.width = `${tab.offsetWidth}px`\n        tabBody.removeAttribute('hidden')\n      } else {\n        tab.classList.remove('selected')\n        tabBody.setAttribute('hidden', '')\n      }\n    }\n  }\n}\n\nexport const tabSelector = TabSelector.elementCreator({ tag: 'tab-selector' })\n"],"names":[],"version":3,"file":"index.js.map"}